{"remainingRequest":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Login.vue?vue&type=style&index=0&id=15717af5&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Login.vue","mtime":1715192479100},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\css-loader\\index.js","mtime":1715192470608},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1715192477909},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1715192476684},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js","mtime":1715192477908}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  @import \"@/assets/scss/now-ui-kit.scss\";\n/*\nh1, .h1 {\n    font-size: 3.5em;\n    line-height: 1.15;\n    margin-bottom: 15px * 2;    \n}\n*/\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div class=\"page-header clear-filter\" filter-color=\"purple\">\r\n    <div\r\n      class=\"page-header-image\"      \r\n    ></div>\r\n\r\n    \r\n    <div class=\"content\">\r\n      <div class=\"container\">\r\n        <div class=\"col-md-5 ml-auto mr-auto\">\r\n          <card type=\"login\" plain>\r\n\r\n            <!--div slot=\"header\" class=\"logo-container\">\r\n              <img v-lazy=\"'img/now-logo.png'\" alt=\"\" />\r\n            </div-->\r\n            <h1 class=\"text-white text-center\">Inicio de sesión</h1>\r\n            <fg-input\r\n              class=\"no-border input-lg\"\r\n              addon-left-icon=\"now-ui-icons users_circle-08\"\r\n              placeholder=\"Usuario\"\r\n              v-model=\"datos.username\">\r\n            </fg-input>\r\n\r\n            <fg-input\r\n              class=\"no-border input-lg\"\r\n              addon-left-icon=\"now-ui-icons text_caps-small\"\r\n              placeholder=\"Contraseña\"\r\n              type=\"password\"\r\n              v-model=\"datos.password\">\r\n            </fg-input>\r\n\r\n            <template slot=\"raw-content\">\r\n              <div id=\"modals\" class=\"card-footer text-center\">\r\n                <n-button                 \r\n                  class=\"btn btn-login-register btn-round btn-lg btn-block\"\r\n                  @click.native=\"[modals.classic = true, iniciarSesion()]\"\r\n                  >Iniciar sesión</n-button>\r\n              </div>\r\n\r\n              <modal-index v-if=\"activado\" :show.sync=\"modals.classic\" headerClasses=\"justify-content-center\">\r\n                <h5 slot=\"header\" class=\"title title-up\">Usuario no encontrado</h5>\r\n                <p> \r\n                  {{mensaje}}\r\n                </p>\r\n                <template slot=\"footer\">\r\n                  <n-button type=\"danger\" @click.native=\"[modals.classic = false, activado = false]\">\r\n                    Cerrar\r\n                  </n-button>\r\n                </template>\r\n              </modal-index>\r\n\r\n              <div class=\"pull-left\">\r\n                <h6>\r\n                  <a\r\n                    style=\"color:White;\"\r\n                    href = \"#/signup\"\r\n                    class=\"link footer-link\">\r\n                    Crear cuenta\r\n                  </a>\r\n                </h6>\r\n              </div>\r\n              <div class=\"pull-right\">\r\n                <h6>\r\n                  <a\r\n                    class=\"nav-item link footer-link\">\r\n                    ¿Olvidaste la contraseña?\r\n                  </a>\r\n                </h6>\r\n              </div>\r\n\r\n              <!--div class=\"card-footer text-center\" style=\"margin-top: 30px !important\">\r\n                <div class=\"g-signin2\" data-onsuccess=\"onSignIn\"></div>\r\n              </div-->\r\n\r\n            </template>\r\n          </card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport { CardIndex, Button, FormGroupInput, ModalIndex } from '@/components';\r\nimport MainFooter from '@/layout/MainFooter';\r\nimport { Popover, Tooltip, DatePicker } from 'element-ui';\r\nimport axios from 'axios';\r\n\r\nimport Authentication from '@/store/authentication.js';\r\n\r\n\r\nexport default {\r\n\r\n  name: 'login-page',\r\n  bodyClass: 'login-page',\r\n  components: {\r\n    Authentication,\r\n    CardIndex,\r\n    ModalIndex,\r\n    MainFooter,\r\n    [Button.name]: Button,\r\n    [FormGroupInput.name]: FormGroupInput,\r\n    [Popover.name]: Popover,\r\n    [Tooltip.name]: Tooltip,\r\n    [DatePicker.name]: DatePicker\r\n  },\r\n  data(){\r\n    return{\r\n      modals: {\r\n        classic: false,\r\n        mini: false\r\n      },\r\n      activado: false,\r\n      mensaje: '',\r\n      datos:{\r\n        username:\"\",\r\n        password:\"\"\r\n      },\r\n      userData:{\r\n          id: 0,\r\n          nombreRazonSocial:'',\r\n          correo:'',\r\n          direccion:'',\r\n          fechaNacimiento:'',\r\n          tipoDocumento:'',\r\n          telefono:'',\r\n          username:'',\r\n          idioma:'',\r\n          numeroDocumento:'',\r\n          tipoUsuario:'',\r\n          dniContacto: '',\r\n          nombreContacto: '',\r\n          representanteLegalDni: '',\r\n          representanteLegalNombre: '',\r\n          idSede: -1\r\n      }\r\n    }      \r\n  },\r\n  methods:{\r\n    iniciarSesion:function(){\r\n      \r\n      let vue = this;\r\n      axios.post(this.$store.state.appUri+'/sesion/login', vue.datos)\r\n      .then(function(response){\r\n\r\n          if(response.data.mensaje_respuesta == \"Usuario logueado\"){ // Back debe verificar codigo de respuesta si no existe - != 200\r\n            //console.log(response.data);\r\n            vue.userData.idSede = response.data.idSede;\r\n            vue.userData.id = response.data.usuario.id;\r\n            vue.userData.correo = response.data.usuario.correo;\r\n            vue.userData.username = response.data.usuario.username;\r\n            vue.userData.telefono = response.data.usuario.telefono;\r\n            vue.userData.direccion = response.data.usuario.direccion;\r\n            //console.log(response.data.usuario.fechaNacimiento.substring(0,4)+\"-\"+response.data.usuario.fechaNacimiento.substring(5,7)+\"-\"+response.data.usuario.fechaNacimiento.substring(8,10));\r\n            vue.userData.fechaNacimiento = response.data.usuario.fechaNacimiento.substring(0,4)+\r\n                                        \"-\"+response.data.usuario.fechaNacimiento.substring(5,7)+\r\n                                        \"-\"+response.data.usuario.fechaNacimiento.substring(8,10);\r\n            vue.userData.nombreRazonSocial = response.data.usuario.nombreRazonSocial;\r\n            vue.userData.tipoDocumento = response.data.usuario.tipoDocumento;\r\n            vue.userData.idioma = response.data.usuario.idioma;\r\n            vue.userData.numeroDocumento = response.data.usuario.numeroDocumento;\r\n            vue.userData.tipoUsuario = response.data.usuario.tipoUsuario;\r\n            vue.userData.dniContacto = response.data.usuario.dniContacto;\r\n            vue.userData.nombreContacto = response.data.usuario.nombreContacto;\r\n            vue.userData.representanteLegalDni = response.data.usuario.representanteLegalDni;\r\n            vue.userData.representanteLegalNombre = response.data.usuario.representanteLegalNombre;\r\n            Authentication.logout();\r\n            Authentication.login(vue.userData);\r\n            vue.$router.push('/profile');\r\n          }else{\r\n            //console.log(\"USUARIO NO ENCONTRADO\");\r\n            vue.mensaje = 'Usuario no encontrado. Verifique el nombre de usuario y contraseña.'\r\n            vue.activado = true;\r\n          }\r\n      })\r\n      .catch(function (error) {\r\n        vue.mensaje = 'Usuario no encontrado. Verifique el nombre de usuario y contraseña.'\r\n        vue.activado = true;\r\n        console.log(error);\r\n      });\r\n    }\r\n  },\r\n  mounted(){\r\n    let vue = this;\r\n    if(Authentication.isAuthenticated()){\r\n      vue.$router.push('/profile');\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/scss/now-ui-kit.scss\";\r\n/*\r\nh1, .h1 {\r\n    font-size: 3.5em;\r\n    line-height: 1.15;\r\n    margin-bottom: 15px * 2;    \r\n}\r\n*/\r\n</style>\r\n"]}]}