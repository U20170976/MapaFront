{"remainingRequest":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Administrador\\ModificarRuta.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Administrador\\ModificarRuta.vue","mtime":1715192479094},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js","mtime":1715192467870},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js","mtime":1715192477908}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport NotificationTemplate from '../Notifications/NotificationTemplate';\nimport NotificationTemplateSedeSuccess from '../Notifications/NotificationTemplateSedeSuccess';\nimport NotificationTemplateSedeError from '../Notifications/NotificationTemplateSedeError';\nimport { BaseAlert } from '@/components';\n\nexport default {\n  components: {\n    \n  },\n  data() {\n    return {\n      ruta:{\n        id: null,\n        capacidad_contratada: 0,\n        fechaOrigen: null,\n        fechaDestino: null,\n        numero_paquetes_ruta: null,\n        capacidad_min: null,\n        capacidad_max: null\n      },\n      horainicio: 100,\n      horafin: 500,\n      capacidad_max: null,\n      errors: [],\n      type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n      notifications: {\n        topCenter: false\n      }\n\n    };\n  },\n  mounted(){\n    let vue = this;\n    \n    axios.get(vue.$store.state.appUri+'/rutas/obtenerPorId/'+ vue.$route.params.idRuta) \n    .then(function(response){\n      //console.log(vue.$route.params.idRuta);\n      //console.log(response.data);\n\n      vue.ruta.id = Number(vue.$route.params.idRuta); // FALTA PASAR COMO ENTERO\n      vue.ruta.capacidad_contratada = Number(response.data.capacidad_contratada); // FALTA PASAR COMO ENTERO\n      vue.ruta.fechaOrigen = response.data.fechaOrigen.substring(0,10);\n      vue.ruta.fechaDestino = response.data.fechaDestino.substring(0,10);\n      vue.ruta.numero_paquetes_ruta = response.data.numero_paquetes_ruta;\n      vue.ruta.capacidad_min = response.data.capacidad_min;\n      vue.ruta.capacidad_max = response.data.capacidad_max;\n    })\n    .catch(e => {\n      vue.errors.push(e)\n    });\n  },\n  methods:{\n    enviarRuta(){\n      let vue = this;\n      vue.ruta.id = Number(vue.ruta.id);\n      vue.ruta.capacidad_contratada = Number(vue.ruta.capacidad_contratada);\n      console.log(vue.ruta);\n      if(vue.ruta.capacidad_contratada==null){\n        this.notifyVue('top', 'center',4,NotificationTemplateSedeError);\n      }else{\n        //vue.ruta.id = Number(vue.ruta.id);\n        //vue.ruta.capacidad_contratada = Number(response.data.capacidad_contratada);\n        axios.post(vue.$store.state.appUri+'/rutas/actualizar',vue.ruta)\n        .then(response => {\n          \n          this.notifyVue('top', 'center',2,NotificationTemplateSedeSuccess)\n        })\n        .catch(e => {\n          vue.errors.push(e)\n        });    \n      }\n    },\n    notifyVue(verticalAlign, horizontalAlign,color,componente) {        \n      this.$notify({\n        component: componente,\n        icon: \"tim-icons icon-bell-55\",\n        horizontalAlign: horizontalAlign,\n        verticalAlign: verticalAlign,\n        type: this.type[color],\n        timeout: 0\n      });\n    },\n    regresarAlListar(){\n      this.$router.push('/admin/rutas');\n    }\n  },\n  props: {\n    \n  }\n}\n",{"version":3,"sources":["ModificarRuta.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ModificarRuta.vue","sourceRoot":"src/pages/Administrador","sourcesContent":["<template>\r\n  <card>\r\n    <h5 slot=\"header\" class=\"title\">Información de la Ruta</h5>\r\n\r\n    \r\n    <div class=\"row\">    \r\n\r\n      <div class=\"col-md-4 pr-md-1\">\r\n        <div class=\"form-group\">\r\n\r\n          <base-input label=\"ID\"\r\n                    v-model=\"ruta.id\"\r\n                    disabled>\r\n          </base-input>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-2 \">          \r\n          <base-input type=\"number\"\r\n                    label=\"Capacidad contratada\"\r\n                    v-model=\"ruta.capacidad_contratada\">\r\n          </base-input>          \r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-2 \">          \r\n          <base-input label=\"Fecha salida Origen\"\r\n                    v-model=\"ruta.fechaOrigen\"\r\n                    disabled>\r\n          </base-input>          \r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-1 \">\r\n        <base-input label=\"Fecha llegada Destino\"\r\n                  v-model=\"ruta.fechaDestino\"\r\n                  disabled>\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-1\">\r\n        <base-input label=\"Número de paquetes en la ruta\"\r\n                  v-model=\"ruta.numero_paquetes_ruta\"\r\n                  disabled>\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n    \r\n    <div class=\"row\">      \r\n\r\n      <!-- \r\n      actualizar para que se pueda cambiar el valor\r\n      -->\r\n      <div class=\"col-md-5 pr-md-1\">\r\n          <base-input type=\"number\" min=\"600\" max='1000'\r\n                    label=\"Hora inicio (min.)\"\r\n                    v-model=\"horainicio\" \r\n                    >\r\n          </base-input>\r\n      </div>\r\n\r\n      <!-- \r\n      actualizar el servicio para que vaya cambiando el valor\r\n      -->\r\n      <div class=\"col-md-5 pr-md-1\">\r\n        <base-input type=\"number\" min=\"600\" max='1000'\r\n                  label=\"Hora fin (min.)\"\r\n                  v-model=\"horafin\">\r\n        </base-input>\r\n      </div>\r\n\r\n    </div>\r\n    \r\n    <base-button slot=\"footer\" type=\"primary\" fill @click=\"enviarRuta()\">Aceptar</base-button>\r\n    <base-button slot=\"footer\" fill @click=\"regresarAlListar()\">Cancelar</base-button>\r\n\r\n  </card>\r\n</template>\r\n\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  import NotificationTemplate from '../Notifications/NotificationTemplate';\r\n  import NotificationTemplateSedeSuccess from '../Notifications/NotificationTemplateSedeSuccess';\r\n  import NotificationTemplateSedeError from '../Notifications/NotificationTemplateSedeError';\r\n  import { BaseAlert } from '@/components';\r\n\r\n  export default {\r\n    components: {\r\n      \r\n    },\r\n    data() {\r\n      return {\r\n        ruta:{\r\n          id: null,\r\n          capacidad_contratada: 0,\r\n          fechaOrigen: null,\r\n          fechaDestino: null,\r\n          numero_paquetes_ruta: null,\r\n          capacidad_min: null,\r\n          capacidad_max: null\r\n        },\r\n        horainicio: 100,\r\n        horafin: 500,\r\n        capacidad_max: null,\r\n        errors: [],\r\n        type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\r\n        notifications: {\r\n          topCenter: false\r\n        }\r\n\r\n      };\r\n    },\r\n    mounted(){\r\n      let vue = this;\r\n      \r\n      axios.get(vue.$store.state.appUri+'/rutas/obtenerPorId/'+ vue.$route.params.idRuta) \r\n      .then(function(response){\r\n        //console.log(vue.$route.params.idRuta);\r\n        //console.log(response.data);\r\n\r\n        vue.ruta.id = Number(vue.$route.params.idRuta); // FALTA PASAR COMO ENTERO\r\n        vue.ruta.capacidad_contratada = Number(response.data.capacidad_contratada); // FALTA PASAR COMO ENTERO\r\n        vue.ruta.fechaOrigen = response.data.fechaOrigen.substring(0,10);\r\n        vue.ruta.fechaDestino = response.data.fechaDestino.substring(0,10);\r\n        vue.ruta.numero_paquetes_ruta = response.data.numero_paquetes_ruta;\r\n        vue.ruta.capacidad_min = response.data.capacidad_min;\r\n        vue.ruta.capacidad_max = response.data.capacidad_max;\r\n      })\r\n      .catch(e => {\r\n        vue.errors.push(e)\r\n      });\r\n    },\r\n    methods:{\r\n      enviarRuta(){\r\n        let vue = this;\r\n        vue.ruta.id = Number(vue.ruta.id);\r\n        vue.ruta.capacidad_contratada = Number(vue.ruta.capacidad_contratada);\r\n        console.log(vue.ruta);\r\n        if(vue.ruta.capacidad_contratada==null){\r\n          this.notifyVue('top', 'center',4,NotificationTemplateSedeError);\r\n        }else{\r\n          //vue.ruta.id = Number(vue.ruta.id);\r\n          //vue.ruta.capacidad_contratada = Number(response.data.capacidad_contratada);\r\n          axios.post(vue.$store.state.appUri+'/rutas/actualizar',vue.ruta)\r\n          .then(response => {\r\n            \r\n            this.notifyVue('top', 'center',2,NotificationTemplateSedeSuccess)\r\n          })\r\n          .catch(e => {\r\n            vue.errors.push(e)\r\n          });    \r\n        }\r\n      },\r\n      notifyVue(verticalAlign, horizontalAlign,color,componente) {        \r\n        this.$notify({\r\n          component: componente,\r\n          icon: \"tim-icons icon-bell-55\",\r\n          horizontalAlign: horizontalAlign,\r\n          verticalAlign: verticalAlign,\r\n          type: this.type[color],\r\n          timeout: 0\r\n        });\r\n      },\r\n      regresarAlListar(){\r\n        this.$router.push('/admin/rutas');\r\n      }\r\n    },\r\n    props: {\r\n      \r\n    }\r\n  }\r\n</script>\r\n<style>\r\n</style>\r\n"]}]}