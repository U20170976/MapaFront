{"remainingRequest":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Profile\\EditProfileForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Profile\\EditProfileForm.vue","mtime":1715192479113},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js","mtime":1715192467870},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js","mtime":1715192477908}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport Authentication from '@/store/authentication.js';\nimport NotificationTemplateModifiyUserSuccess from '../Notifications/NotificationTemplateModifiyUserSuccess';\n\nconst TIPO_OPERARIO = 'OPERARIO'; //1\nconst TIPO_NATURAL = 'CLIENTE_NATURAL'; //2\nconst TIPO_JURIDICO = 'CLIENTE_JURIDICO'; //3\nconst TIPO_GERENTE = 'GERENTE'; //6\nconst TIPO_ADMIN = 'ADMIN'; //5\nconst TIPO_SA = 'SUPER_ADMIN'; //4\n\nexport default {\n  props: {\n    model: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  data() {\n    return{\n      data_usuario:{\n        id: 0,\n        numeroDocumento: '',\n        nombreRazonSocial:'',\n        correo:'',\n        direccion:'',\n        fechaNacimiento:'',\n        tipoDocumento:'',\n        telefono:'',\n        username:'',\n        idioma:'',\n        tipoUsuario:null,\n        //password:'',\n        //confirmar_password:'',\n        dniContacto:'',\n        nombreContacto:'',\n        representanteLegalDni:'',\n        representanteLegalNombre:'',\n        idSede: null\n      },\n      reg: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/,\n      tipo_juridico: false,\n      type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n      notifications: {\n        topCenter: false\n      }\n    }\n  },\n  methods:{\n    notifyVue(verticalAlign, horizontalAlign,color,componente) {\n      //const color = 4;\n      //console.log(color);\n      this.$notify({\n        component: componente,\n        icon: \"tim-icons icon-bell-55\",\n        horizontalAlign: horizontalAlign,\n        verticalAlign: verticalAlign,\n        type: this.type[color],\n        timeout: 0\n      });\n    },\n    guardarDatos(){        \n      let vue = this;\n\n      console.log(vue.data_usuario);\n      axios.post(this.$store.state.appUri+'/usuarios/insertar/',  vue.data_usuario\n\n      )\n      .then(response => {\n        Authentication.logout();\n        switch(vue.data_usuario.tipoUsuario){\n          case 2: vue.data_usuario.tipoUsuario = TIPO_NATURAL; break;\n          case 1: vue.data_usuario.tipoUsuario = TIPO_OPERARIO; break;\n          case 6: vue.data_usuario.tipoUsuario = TIPO_GERENTE; break;\n          case 5: vue.data_usuario.tipoUsuario = TIPO_ADMIN; break;\n          case 4: vue.data_usuario.tipoUsuario = TIPO_SA; break;\n          case 3: vue.data_usuario.tipoUsuario = TIPO_JURIDICO; break;\n        }\n        Authentication.login(vue.data_usuario);\n        vue.notifyVue('top', 'center',2,NotificationTemplateModifiyUserSuccess);\n      })\n      .catch(function (error) {          \n        console.log(error);\n      });\n\n    },\n    isEmailValid: function() {\n        let vue = this;\n        return (vue.data_usuario.correo == \" \")? \"\" : (vue.reg.test(vue.data_usuario.correo)) ? 'has-success' : 'has-error';\n    }\n  },\n  mounted(){\n\n    let vue = this;\n    vue.data_usuario.idSede = Authentication.getProfile().idSede;\n    vue.data_usuario.id = Authentication.getProfile().id;\n    vue.data_usuario.correo = Authentication.getProfile().correo;\n    vue.data_usuario.username = Authentication.getProfile().username;\n    vue.data_usuario.telefono = Authentication.getProfile().telefono;\n    vue.data_usuario.direccion = Authentication.getProfile().direccion;\n    vue.data_usuario.fechaNacimiento = Authentication.getProfile().fechaNacimiento.substring(0,4)+\"-\"+Authentication.getProfile().fechaNacimiento.substring(5,7)+\"-\"+Authentication.getProfile().fechaNacimiento.substring(8,10);\n    vue.data_usuario.nombreRazonSocial = Authentication.getProfile().nombreRazonSocial;\n    vue.data_usuario.numeroDocumento = Authentication.getProfile().numeroDocumento;\n    vue.data_usuario.tipoDocumento = Authentication.getProfile().tipoDocumento;\n    //vue.data_usuario.tipoUsuario = Authentication.getProfile().tipoUsuario;\n    vue.data_usuario.idioma = Authentication.getProfile().idioma;\n    vue.data_usuario.dniContacto = Authentication.getProfile().dniContacto;\n    vue.data_usuario.nombreContacto = Authentication.getProfile().nombreContacto;\n    vue.data_usuario.representanteLegalDni = Authentication.getProfile().representanteLegalDni;\n    vue.data_usuario.representanteLegalNombre = Authentication.getProfile().representanteLegalNombre;\n    console.log(vue.data_usuario);\n\n\n    switch(Authentication.getProfile().tipoUsuario){\n      case TIPO_NATURAL:\n        vue.tipo_juridico = false;\n        vue.data_usuario.tipoDocumento = 'dni';\n        vue.data_usuario.tipoUsuario = 2;\n        break;\n      case TIPO_OPERARIO:\n        vue.tipo_juridico = false;\n        vue.data_usuario.tipoDocumento = 'dni';\n        vue.data_usuario.tipoUsuario = 1;\n        break;\n      case TIPO_GERENTE:\n        vue.tipo_juridico = false;\n        vue.data_usuario.tipoDocumento = 'dni';\n        vue.data_usuario.tipoUsuario = 6;\n        break;\n      case TIPO_ADMIN:\n        vue.tipo_juridico = false;\n        vue.data_usuario.tipoDocumento = 'dni';\n        vue.data_usuario.tipoUsuario = 5;\n        break;\n      case TIPO_SA:\n        vue.tipo_juridico = false;\n        vue.data_usuario.tipoDocumento = 'dni';\n        vue.data_usuario.tipoUsuario = 4;\n        break;\n      case TIPO_JURIDICO:\n        vue.tipo_juridico = true;\n        vue.data_usuario.tipoDocumento = 'ruc';\n        vue.data_usuario.tipoUsuario = 3;\n        break;   \n    }\n\n\n  }\n}\n",{"version":3,"sources":["EditProfileForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"EditProfileForm.vue","sourceRoot":"src/pages/Profile","sourcesContent":["<template>\r\n  <card>\r\n    <h5 slot=\"header\" class=\"title\">Configuración de perfil</h5>\r\n\r\n    \r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 pr-md-1\">\r\n        <base-input label=\"DNI o RUC\"\r\n                  v-model=\"data_usuario.numeroDocumento\"\r\n                  placeholder=\"DNI o RUC\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 pr-md-1\">\r\n        <base-input label=\"Nombres y Apellidos\"\r\n                  v-model=\"data_usuario.nombreRazonSocial\"                  \r\n                  placeholder=\"Nombres y apellidos\">\r\n        </base-input>\r\n      </div>\r\n      <!--div class=\"col-md-6 pl-md-1\">\r\n        <base-input label=\"Apellidos\"\r\n                  v-model=\"data_usuario.apellidos\"\r\n                  placeholder=\"Apellidos\">\r\n        </base-input>\r\n      </div-->\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-5 pr-md-1\" v-bind:class=\"[isEmailValid()]\">\r\n        <base-input label=\"Email address\"\r\n                  v-model=\"data_usuario.correo\"\r\n                  type=\"email\"\r\n                  placeholder=\"mike@email.com\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 pr-md-1\">\r\n        <base-input label=\"DNI Representante legal\"\r\n                  v-model=\"data_usuario.representanteLegalNombre\"\r\n                  placeholder=\"DNI Representante legal\"\r\n                  v-if=\"tipo_juridico\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 pr-md-1\">\r\n        <base-input label=\"Nombre representante legal\"\r\n                  v-model=\"data_usuario.nombreContacto\"\r\n                  placeholder=\"Nombre representante legal\"\r\n                  v-if=\"tipo_juridico\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 pr-md-1\">\r\n        <base-input label=\"DNI Contacto\"\r\n                  v-model=\"data_usuario.dniContacto\"\r\n                  placeholder=\"DNI Contacto\"\r\n                  v-if=\"tipo_juridico\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6 pr-md-1\">\r\n        <base-input label=\"Nombre contacto\"\r\n                  v-model=\"data_usuario.nombreContacto\"\r\n                  placeholder=\"Nombre contacto\"\r\n                  v-if=\"tipo_juridico\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <base-input label=\"Dirección\"\r\n                  v-model=\"data_usuario.direccion\"\r\n                  placeholder=\"Dirección\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-1\">\r\n        <base-input type=\"date\"\r\n                  label=\"Fecha de nacimiento\"\r\n                  format= \"yyyy-MM-dd\"\r\n                  v-model=\"data_usuario.fechaNacimiento\">\r\n        </base-input>\r\n      </div>\r\n      <div class=\"col-md-4 px-md-1\">\r\n        <base-input label=\"Teléfono\"\r\n                  v-model=\"data_usuario.telefono\"\r\n                  placeholder=\"Teléfono\">\r\n        </base-input>\r\n      </div>\r\n      \r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-1\">\r\n        <base-input style=\"color:white\"\r\n            label=\"Nombre de usuario\"\r\n            v-model=\"data_usuario.username\"\r\n            placeholder=\"Nombre de usuario\"\r\n            disabled>\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n    <!--div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-1\">\r\n        <base-input type=\"password\"\r\n            v-model=\"data_usuario.password\"\r\n            label=\"Contraseña\"\r\n            placeholder=\"Contraseña\">\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4 pr-md-1\">\r\n        <base-input type=\"password\"\r\n            v-model=\"data_usuario.confirmar_password\"\r\n            label=\"Confirmar contraseña\"\r\n            placeholder=\"Confirmar contraseña\">\r\n        </base-input>\r\n      </div>\r\n    </div-->\r\n    <b-button v-b-modal.modal-save slot=\"footer\" type=\"primary\" fill>Guardar</b-button>\r\n    <b-modal id=\"modal-save\"\r\n        @ok=\"guardarDatos\">\r\n        ¿Deseas actualizar tus datos?\r\n    </b-modal>\r\n  </card>\r\n</template>\r\n<script>\r\n  import axios from 'axios';\r\n  import Authentication from '@/store/authentication.js';\r\n  import NotificationTemplateModifiyUserSuccess from '../Notifications/NotificationTemplateModifiyUserSuccess';\r\n\r\n  const TIPO_OPERARIO = 'OPERARIO'; //1\r\n  const TIPO_NATURAL = 'CLIENTE_NATURAL'; //2\r\n  const TIPO_JURIDICO = 'CLIENTE_JURIDICO'; //3\r\n  const TIPO_GERENTE = 'GERENTE'; //6\r\n  const TIPO_ADMIN = 'ADMIN'; //5\r\n  const TIPO_SA = 'SUPER_ADMIN'; //4\r\n\r\n  export default {\r\n    props: {\r\n      model: {\r\n        type: Object,\r\n        default: () => {\r\n          return {};\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return{\r\n        data_usuario:{\r\n          id: 0,\r\n          numeroDocumento: '',\r\n          nombreRazonSocial:'',\r\n          correo:'',\r\n          direccion:'',\r\n          fechaNacimiento:'',\r\n          tipoDocumento:'',\r\n          telefono:'',\r\n          username:'',\r\n          idioma:'',\r\n          tipoUsuario:null,\r\n          //password:'',\r\n          //confirmar_password:'',\r\n          dniContacto:'',\r\n          nombreContacto:'',\r\n          representanteLegalDni:'',\r\n          representanteLegalNombre:'',\r\n          idSede: null\r\n        },\r\n        reg: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/,\r\n        tipo_juridico: false,\r\n        type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\r\n        notifications: {\r\n          topCenter: false\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      notifyVue(verticalAlign, horizontalAlign,color,componente) {\r\n        //const color = 4;\r\n        //console.log(color);\r\n        this.$notify({\r\n          component: componente,\r\n          icon: \"tim-icons icon-bell-55\",\r\n          horizontalAlign: horizontalAlign,\r\n          verticalAlign: verticalAlign,\r\n          type: this.type[color],\r\n          timeout: 0\r\n        });\r\n      },\r\n      guardarDatos(){        \r\n        let vue = this;\r\n\r\n        console.log(vue.data_usuario);\r\n        axios.post(this.$store.state.appUri+'/usuarios/insertar/',  vue.data_usuario\r\n\r\n        )\r\n        .then(response => {\r\n          Authentication.logout();\r\n          switch(vue.data_usuario.tipoUsuario){\r\n            case 2: vue.data_usuario.tipoUsuario = TIPO_NATURAL; break;\r\n            case 1: vue.data_usuario.tipoUsuario = TIPO_OPERARIO; break;\r\n            case 6: vue.data_usuario.tipoUsuario = TIPO_GERENTE; break;\r\n            case 5: vue.data_usuario.tipoUsuario = TIPO_ADMIN; break;\r\n            case 4: vue.data_usuario.tipoUsuario = TIPO_SA; break;\r\n            case 3: vue.data_usuario.tipoUsuario = TIPO_JURIDICO; break;\r\n          }\r\n          Authentication.login(vue.data_usuario);\r\n          vue.notifyVue('top', 'center',2,NotificationTemplateModifiyUserSuccess);\r\n        })\r\n        .catch(function (error) {          \r\n          console.log(error);\r\n        });\r\n\r\n      },\r\n      isEmailValid: function() {\r\n          let vue = this;\r\n          return (vue.data_usuario.correo == \" \")? \"\" : (vue.reg.test(vue.data_usuario.correo)) ? 'has-success' : 'has-error';\r\n      }\r\n    },\r\n    mounted(){\r\n\r\n      let vue = this;\r\n      vue.data_usuario.idSede = Authentication.getProfile().idSede;\r\n      vue.data_usuario.id = Authentication.getProfile().id;\r\n      vue.data_usuario.correo = Authentication.getProfile().correo;\r\n      vue.data_usuario.username = Authentication.getProfile().username;\r\n      vue.data_usuario.telefono = Authentication.getProfile().telefono;\r\n      vue.data_usuario.direccion = Authentication.getProfile().direccion;\r\n      vue.data_usuario.fechaNacimiento = Authentication.getProfile().fechaNacimiento.substring(0,4)+\"-\"+Authentication.getProfile().fechaNacimiento.substring(5,7)+\"-\"+Authentication.getProfile().fechaNacimiento.substring(8,10);\r\n      vue.data_usuario.nombreRazonSocial = Authentication.getProfile().nombreRazonSocial;\r\n      vue.data_usuario.numeroDocumento = Authentication.getProfile().numeroDocumento;\r\n      vue.data_usuario.tipoDocumento = Authentication.getProfile().tipoDocumento;\r\n      //vue.data_usuario.tipoUsuario = Authentication.getProfile().tipoUsuario;\r\n      vue.data_usuario.idioma = Authentication.getProfile().idioma;\r\n      vue.data_usuario.dniContacto = Authentication.getProfile().dniContacto;\r\n      vue.data_usuario.nombreContacto = Authentication.getProfile().nombreContacto;\r\n      vue.data_usuario.representanteLegalDni = Authentication.getProfile().representanteLegalDni;\r\n      vue.data_usuario.representanteLegalNombre = Authentication.getProfile().representanteLegalNombre;\r\n      console.log(vue.data_usuario);\r\n\r\n\r\n      switch(Authentication.getProfile().tipoUsuario){\r\n        case TIPO_NATURAL:\r\n          vue.tipo_juridico = false;\r\n          vue.data_usuario.tipoDocumento = 'dni';\r\n          vue.data_usuario.tipoUsuario = 2;\r\n          break;\r\n        case TIPO_OPERARIO:\r\n          vue.tipo_juridico = false;\r\n          vue.data_usuario.tipoDocumento = 'dni';\r\n          vue.data_usuario.tipoUsuario = 1;\r\n          break;\r\n        case TIPO_GERENTE:\r\n          vue.tipo_juridico = false;\r\n          vue.data_usuario.tipoDocumento = 'dni';\r\n          vue.data_usuario.tipoUsuario = 6;\r\n          break;\r\n        case TIPO_ADMIN:\r\n          vue.tipo_juridico = false;\r\n          vue.data_usuario.tipoDocumento = 'dni';\r\n          vue.data_usuario.tipoUsuario = 5;\r\n          break;\r\n        case TIPO_SA:\r\n          vue.tipo_juridico = false;\r\n          vue.data_usuario.tipoDocumento = 'dni';\r\n          vue.data_usuario.tipoUsuario = 4;\r\n          break;\r\n        case TIPO_JURIDICO:\r\n          vue.tipo_juridico = true;\r\n          vue.data_usuario.tipoDocumento = 'ruc';\r\n          vue.data_usuario.tipoUsuario = 3;\r\n          break;   \r\n      }\r\n\r\n\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n</style>\r\n"]}]}