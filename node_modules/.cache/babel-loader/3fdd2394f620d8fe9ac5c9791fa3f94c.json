{"remainingRequest":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Operario\\RegisterPackage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Operario\\RegisterPackage.vue","mtime":1715192479110},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\.babelrc","mtime":1715192465794},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js","mtime":1715192467870},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js","mtime":1715192477908}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BaseTable } from \"@/components\";\nimport axios from 'axios';\nimport NotificationTemplate from \"../Notifications/NotificationTemplate\";\nimport NotificationTemplatePaqueteSuccess from \"../Notifications/NotificationTemplatePaqueteSuccess\";\nimport NotificationTemplatePaqueteError from \"../Notifications/NotificationTemplatePaqueteError\";\nimport { BaseAlert } from '@/components';\nimport listadoPaquetes from \"../Operario/listadoPaquetes\";\nimport Authentication from '@/store/authentication.js';\nvar tableColumns = [\"Descripcion\", \"Categoria\"];\nexport default {\n  components: {\n    BaseTable: BaseTable,\n    listadoPaquetes: listadoPaquetes\n  },\n  data: function data() {\n    return {\n      table1: {\n        title: \"Registro paquetes\",\n        columns: [].concat(tableColumns),\n        data: []\n      },\n      data_usuario: {\n        id: '',\n        sedeOrigen: '',\n        pais: ''\n        /*\n        numeroDocumento: '',\n        nombres:'',\n        email:'',\n        direccion:'',\n        fechaNacimiento:'',\n        tipoDocumento:'',\n        telefono:'',\n        usuario:'',\n        idioma:'',\n        tipoUsuario:'',\n        password:'',\n        confirmar_password:'',\n        */\n\n      },\n      paises: [],\n      pais: {},\n      sedes: [],\n      sede: {},\n      ciudad: \"\",\n      clientes: [],\n      categorias: [],\n      categoria: {},\n      dniinput: \"\",\n      cliente: {},\n      paquete: [],\n      email: '',\n      reg: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/,\n      type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n      notifications: {\n        topCenter: false\n      }\n    };\n  },\n  mounted: function mounted() {\n    var vue = this;\n    var date = new Date();\n    var day = date.getDate();\n    var month = date.getMonth() + 1;\n    var year = date.getFullYear();\n    var hour = date.getUTCHours();\n    var min = date.getUTCMinutes();\n    console.log(\"Hora\");\n    console.log(day.toString().slice(-2) + month.toString().slice(-2) + year.toString().slice(-2) + hour.toString().slice(-2) + min.toString().slice(-2));\n    vue.data_usuario.id = Authentication.getProfile().id;\n    axios.get(this.$store.state.appUri + '/usuarios/obtenerDatosSede/' + vue.data_usuario.id).then(function (response) {\n      vue.data_usuario.sedeOrigen = response.data.sede.codigoOaci;\n      vue.data_usuario.pais = response.data.sede.pais.nombre;\n    }), axios.get(this.$store.state.appUri + '/sedes/listarSedes').then(function (response) {\n      vue.sedes = response.data;\n    }), axios.get(this.$store.state.appUri + '/usuarios/listar').then(function (response) {\n      vue.clientes = response.data;\n    }), axios.get(this.$store.state.appUri + '/categorias/findAll').then(function (response) {\n      vue.categorias = response.data;\n    });\n  },\n  methods: {\n    filterClient: function filterClient(numeroDocumento) {\n      var vue = this;\n      var lista = vue.clientes.filter(function (cust) {\n        return cust.numeroDocumento == numeroDocumento;\n      });\n      vue.cliente = lista[0];\n    },\n    addItem: function addItem() {\n      var date = new Date();\n      var day = date.getDate();\n      var month = date.getMonth() + 1;\n      var year = date.getFullYear();\n      var hour = date.getUTCHours();\n      var min = date.getUTCMinutes();\n      console.log(day + month + year + hour + min);\n\n      if (this.categoria.id == null || this.paquete.descripcion == null || this.email == null) {\n        this.notifyVue('top', 'center', 4, NotificationTemplatePaqueteError);\n        return;\n      }\n\n      var paquete = {\n        oaci_sede_origen: this.paquete.oaci_sede_origen,\n        oaci_sede_destino: this.paquete.oaci_sede_destino,\n        id_categoria: this.categoria.id,\n        descripcion: this.paquete.descripcion,\n        fecha_registro: \"2020-05-18T08:34:00.000\",\n        // COLOCAR FECHA ACTUAL\n        estado: \"EN_ALMACEN\",\n        numeroDocumento: this.dniinput,\n        codigo: this.paquete.oaci_sede_origen + \"-\" + year.toString() + month.toString() + day.toString() + \"-\" + hour.toString() + \":\" + min.toString() + \"-\" + this.oaci_sede_destino\n      };\n      var paqueteTabla = {\n        descripcion: this.paquete.descripcion,\n        categoria: this.categoria.descripcion\n      };\n      this.table1.data.push(paqueteTabla);\n      this.paquete.push(paquete); //console.log(this.paquete);\n      //console.log(this.categoria);\n    },\n    obtenerCategoria: function obtenerCategoria(categoria) {\n      this.categoria = categoria; //console.log(categoria);\n    },\n    obtenerCiudad: function obtenerCiudad(sede) {\n      var vue = this;\n      vue.ciudad = sede.pais.ciudad;\n      vue.paquete.oaci_sede_origen = vue.data_usuario.sedeOrigen;\n      vue.paquete.oaci_sede_destino = sede.codigoOaci; //console.log(this.ciudad);\n    },\n    isEmailValid: function isEmailValid() {\n      return this.email == \" \" ? \"\" : this.reg.test(this.email) ? 'has-success' : 'has-error';\n    },\n    isPackageEmpty: function isPackageEmpty() {\n      return this.table1.data.length == 0 ? this.notifyVue('top', 'center', 4, NotificationTemplatePaqueteError) : 'has-error';\n    },\n    notifyVue: function notifyVue(verticalAlign, horizontalAlign, color, componente) {\n      //const color = 4;\n      //console.log(color);\n      this.$notify({\n        component: componente,\n        icon: \"tim-icons icon-bell-55\",\n        horizontalAlign: horizontalAlign,\n        verticalAlign: verticalAlign,\n        type: this.type[color],\n        timeout: 0\n      });\n    },\n    enviarPaquete: function enviarPaquete() {\n      var vue = this;\n\n      if (this.table1.data.length == 0 || this.email == null || this.dniinput == null || this.cliente.nombreRazonSocial == null) {\n        this.notifyVue('top', 'center', 4, NotificationTemplatePaqueteError);\n      } else {\n        axios.post(vue.$store.state.appUri + '/paquetes/insertarLista', vue.paquete).then(function (response) {}).catch(function (e) {\n          vue.errors.push(e);\n        });\n        vue.paquete = [];\n        vue.table1.data = [];\n        this.notifyVue('top', 'center', 2, NotificationTemplatePaqueteSuccess);\n      }\n    },\n    regresarAlListar: function regresarAlListar() {\n      this.$router.push('listadoPaquetes');\n    }\n  },\n  props: {}\n};",{"version":3,"sources":["RegisterPackage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <card>\r\n    <h5 slot=\"header\" class=\"title\">Registrar paquete</h5>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-5 pr-md-1\">\r\n        <base-input label=\"Código tracking (disabled)\"\r\n                  placeholder=\"Company\"\r\n                  disabled>\r\n        </base-input>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"row\">\r\n\r\n      \r\n\r\n      <div class=\"col-md-4\">\r\n        <div class=\"col-md-10 pr-md-1\">\r\n          <base-input label=\"País origen\"\r\n                    :placeholder=\"data_usuario.pais\"\r\n                    disabled>                    \r\n          </base-input>\r\n        </div>\r\n        <div class=\"col-md-10 pr-md-1\">\r\n          <base-input label=\"DNI / RUC\"\r\n                    placeholder=\"DNI o RUC\" v-model=\"dniinput\"\r\n                    @keypress.enter=\"filterClient(dniinput)\">\r\n          </base-input>\r\n        </div>\r\n        <div class=\"col-md-10 pr-md-1\">\r\n          <base-input label=\"Nombres y Apellidos\"\r\n                    placeholder=\"Nombres y Apellidos\"\r\n                    v-model=\"cliente.nombreRazonSocial\"  style=\"color:white\" >\r\n          </base-input>\r\n        </div>\r\n        <div class=\"col-md-10 pr-md-1\" >\r\n          <base-input label=\"Email\"\r\n                    type=\"email\"\r\n                    placeholder=\"email@email.com\"\r\n                    v-model=\"cliente.correo\">\r\n          </base-input>\r\n        </div>\r\n\r\n        \r\n      </div>\r\n      \r\n\r\n\r\n      <div class=\"col-md-4\">\r\n        \r\n        <div class=\"col-md-10 pr-md-1 form-group\">\r\n          <slot name=\"label\">\r\n            <label class=\"control-label\">\r\n              País\r\n            </label>\r\n          </slot>\r\n          <select class=\"input-group-prepend form-control\" v-model=\"sede\" @change=\"obtenerCiudad(sede)\">\r\n              <option style=\"color:black\" v-for=\"sede in sedes\" :key=\"sede.id\" :value=\"sede\">\r\n                {{sede.pais.nombre}}\r\n              </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-md-10 pr-md-1\" v-bind:class=\"[isEmailValid()]\">\r\n          <base-input label=\"Email\"\r\n                    type=\"email\"\r\n                    placeholder=\"email@email.com\"\r\n                    v-model=\"email\">\r\n          </base-input>\r\n        </div>\r\n        <div class=\"col-md-10 pr-md-1\">\r\n          <base-input label=\"Dirección\"\r\n                    placeholder=\"Dirección\">\r\n          </base-input>\r\n        </div>\r\n        <div class=\"col-md-10 pr-md-1\">\r\n          <base-input label=\"Ciudad\"\r\n              placeholder=\"Ciudad\"\r\n              v-model=\"ciudad\">\r\n          </base-input>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n      <div class=\"col-md-4\">\r\n        \r\n        <base-button slot=\"footer\" type=\"primary\" fill v-on:click=\"addItem\">Añadir Paquete</base-button>\r\n\r\n        <div class=\"col-md-6 pr-md-1 form-group\">\r\n          <slot name=\"label\">\r\n            <label class=\"control-label\">\r\n              Categoria\r\n            </label>\r\n          </slot>\r\n          <select class=\"input-group-prepend form-control\" v-model=\"categoria\">\r\n              <option style=\"color:black\" v-for=\"categoria in categorias\" :key=\"categoria.id\" :value=\"categoria\">\r\n                {{categoria.descripcion}}\r\n              </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-md-8\">\r\n          <base-input>\r\n          <label>Descripción del paquete</label>\r\n            <textarea rows=\"4\" cols=\"80\"\r\n                class=\"form-control\"\r\n                placeholder=\"Colocar alguna descripción del paquete\" v-model=\"paquete.descripcion\">\r\n            </textarea>\r\n          </base-input>\r\n        </div>\r\n        <card title=\"Lista de paquetes\">\r\n          <div>\r\n            <base-table :data=\"table1.data\"\r\n                  :columns=\"table1.columns\"\r\n                  thead-classes=\"text-primary\">\r\n            </base-table>\r\n          </div>\r\n        </card>\r\n      </div>\r\n\r\n      \r\n\r\n    </div>\r\n  \r\n    <base-button slot=\"footer\" type=\"primary\" fill @click=\"enviarPaquete()\">Registrar Paquete</base-button>\r\n    <base-button slot=\"footer\" fill @click=\"regresarAlListar()\">Regresar</base-button>\r\n\r\n  </card>\r\n</template>\r\n\r\n\r\n<script>\r\n  import { BaseTable } from \"@/components\";\r\n  import axios from 'axios';\r\n  import NotificationTemplate from '../Notifications/NotificationTemplate';\r\n  import NotificationTemplatePaqueteSuccess from '../Notifications/NotificationTemplatePaqueteSuccess';\r\n  import NotificationTemplatePaqueteError from '../Notifications/NotificationTemplatePaqueteError';\r\n  import { BaseAlert } from '@/components';\r\n  import listadoPaquetes from \"../Operario/listadoPaquetes\";\r\n\r\n  import Authentication from '@/store/authentication.js';\r\n\r\n  const tableColumns =  [\"Descripcion\", \"Categoria\"];\r\n\r\n  export default {\r\n    components: {\r\n      BaseTable,\r\n      listadoPaquetes\r\n    },\r\n    data() {\r\n      return {\r\n        table1: {\r\n          title: \"Registro paquetes\",\r\n          columns: [...tableColumns],\r\n          data: []\r\n        },\r\n        data_usuario:{\r\n          id:'',\r\n          sedeOrigen: '',\r\n          pais: ''\r\n          /*\r\n          numeroDocumento: '',\r\n          nombres:'',\r\n          email:'',\r\n          direccion:'',\r\n          fechaNacimiento:'',\r\n          tipoDocumento:'',\r\n          telefono:'',\r\n          usuario:'',\r\n          idioma:'',\r\n          tipoUsuario:'',\r\n          password:'',\r\n          confirmar_password:'',\r\n          */\r\n        },\r\n        paises:[],\r\n        pais:{},\r\n        sedes:[],\r\n        sede:{},\r\n        ciudad:\"\",\r\n        clientes:[],\r\n        categorias:[],\r\n        categoria:{},\r\n        dniinput:\"\",\r\n        cliente:{},\r\n\r\n        paquete:[],\r\n\r\n        email: '',\r\n        reg: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/,\r\n\r\n        type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\r\n        notifications: {\r\n          topCenter: false\r\n        }\r\n\r\n      };\r\n    },\r\n    mounted(){\r\n      let vue = this;\r\n\r\n\r\n      var date = new Date();\r\n      var day = date.getDate();\r\n      var month = date.getMonth() + 1;\r\n      var year = date.getFullYear();\r\n      var hour = date.getUTCHours();\r\n      var min = date.getUTCMinutes();\r\n      console.log(\"Hora\");\r\n      console.log(day.toString().slice(-2) + month.toString().slice(-2) + year.toString().slice(-2) + hour.toString().slice(-2) + min.toString().slice(-2));\r\n\r\n      vue.data_usuario.id = Authentication.getProfile().id;\r\n\r\n      axios.get(this.$store.state.appUri+'/usuarios/obtenerDatosSede/' + vue.data_usuario.id)\r\n      .then(function(response){\r\n        vue.data_usuario.sedeOrigen = response.data.sede.codigoOaci;\r\n        vue.data_usuario.pais = response.data.sede.pais.nombre;\r\n      }),\r\n\r\n      axios.get(this.$store.state.appUri+'/sedes/listarSedes')\r\n      .then(function(response){\r\n        vue.sedes = response.data;\r\n      }),\r\n      axios.get(this.$store.state.appUri+'/usuarios/listar')\r\n      .then(function(response){\r\n        vue.clientes = response.data;\r\n      }),\r\n      axios.get(this.$store.state.appUri+'/categorias/findAll')\r\n      .then(function(response){\r\n        vue.categorias = response.data;\r\n      })\r\n    },\r\n    methods:{\r\n      filterClient:function(numeroDocumento){\r\n        let vue = this;\r\n        var lista = vue.clientes.filter(\r\n          function(cust){\r\n            return cust.numeroDocumento==numeroDocumento\r\n          }\r\n        )\r\n        vue.cliente = lista[0];\r\n      },\r\n      addItem(){\r\n\r\n        let date = new Date();\r\n        let day = date.getDate();\r\n        let month = date.getMonth() + 1;\r\n        let year = date.getFullYear();\r\n        let hour = date.getUTCHours();\r\n        let min = date.getUTCMinutes();\r\n\r\n        \r\n        console.log(day+month+year+hour+min);\r\n        if(this.categoria.id == null || this.paquete.descripcion == null || this.email == null){\r\n            this.notifyVue('top', 'center',4,NotificationTemplatePaqueteError);\r\n            return;\r\n        }\r\n\r\n        \r\n\r\n        var paquete = {\r\n          oaci_sede_origen:this.paquete.oaci_sede_origen,\r\n          oaci_sede_destino:this.paquete.oaci_sede_destino,\r\n          id_categoria:this.categoria.id,\r\n          descripcion:this.paquete.descripcion,\r\n          fecha_registro:\"2020-05-18T08:34:00.000\", // COLOCAR FECHA ACTUAL\r\n          estado:\"EN_ALMACEN\",\r\n          numeroDocumento:this.dniinput,\r\n          codigo:     this.paquete.oaci_sede_origen + \"-\" +\r\n                      year.toString()+month.toString()+day.toString()+\"-\"+\r\n                      hour.toString()+\":\"+min.toString()+\"-\"+\r\n                      this.oaci_sede_destino\r\n        }\r\n        var paqueteTabla = {\r\n          descripcion:this.paquete.descripcion,\r\n          categoria:this.categoria.descripcion          \r\n        }\r\n        this.table1.data.push(paqueteTabla);\r\n        this.paquete.push(paquete);\r\n        //console.log(this.paquete);\r\n        //console.log(this.categoria);\r\n      },\r\n      obtenerCategoria(categoria){\r\n          this.categoria = categoria;\r\n          //console.log(categoria);\r\n      },\r\n      obtenerCiudad(sede){\r\n        let vue = this;\r\n          vue.ciudad = sede.pais.ciudad;\r\n          vue.paquete.oaci_sede_origen = vue.data_usuario.sedeOrigen;\r\n          vue.paquete.oaci_sede_destino = sede.codigoOaci;\r\n          //console.log(this.ciudad);\r\n      },\r\n      isEmailValid: function() {\r\n          return (this.email == \" \")? \"\" : (this.reg.test(this.email)) ? 'has-success' : 'has-error';\r\n      },\r\n      isPackageEmpty: function() {\r\n          return (this.table1.data.length == 0) ? this.notifyVue('top', 'center',4,NotificationTemplatePaqueteError) : 'has-error';\r\n      },\r\n      notifyVue(verticalAlign, horizontalAlign,color,componente) {\r\n        //const color = 4;\r\n        //console.log(color);\r\n        this.$notify({\r\n          component: componente,\r\n          icon: \"tim-icons icon-bell-55\",\r\n          horizontalAlign: horizontalAlign,\r\n          verticalAlign: verticalAlign,\r\n          type: this.type[color],\r\n          timeout: 0\r\n        });\r\n      },\r\n      enviarPaquete(){\r\n        let vue = this;\r\n\r\n        if(this.table1.data.length == 0 || this.email==null || this.dniinput==null || this.cliente.nombreRazonSocial==null ){\r\n          this.notifyVue('top', 'center',4,NotificationTemplatePaqueteError);\r\n        }else{\r\n            axios.post(vue.$store.state.appUri+'/paquetes/insertarLista', vue.paquete)\r\n            .then(response => {})\r\n            .catch(e => {\r\n              vue.errors.push(e)\r\n            });\r\n            vue.paquete = [];\r\n            vue.table1.data = [];\r\n            this.notifyVue('top', 'center',2,NotificationTemplatePaqueteSuccess)\r\n        }\r\n      },\r\n      regresarAlListar(){\r\n        this.$router.push('listadoPaquetes');\r\n      }\r\n    },\r\n    props: {\r\n\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n</style>\r\n"],"sourceRoot":"src/pages/Operario"}]}