{"remainingRequest":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Login.vue","mtime":1715192479100},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\.babelrc","mtime":1715192465794},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js","mtime":1715192467870},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js","mtime":1715192477908}],"contextDependencies":[],"result":["import _defineProperty from \"C:/Users/PC/Desktop/Otros/DP1/Front/dp1_front-Redex/Redex/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { CardIndex, Button, FormGroupInput, ModalIndex } from '@/components';\nimport MainFooter from '@/layout/MainFooter';\nimport { Popover, Tooltip, DatePicker } from 'element-ui';\nimport axios from 'axios';\nimport Authentication from '@/store/authentication.js';\nexport default {\n  name: 'login-page',\n  bodyClass: 'login-page',\n  components: (_components = {\n    Authentication: Authentication,\n    CardIndex: CardIndex,\n    ModalIndex: ModalIndex,\n    MainFooter: MainFooter\n  }, _defineProperty(_components, Button.name, Button), _defineProperty(_components, FormGroupInput.name, FormGroupInput), _defineProperty(_components, Popover.name, Popover), _defineProperty(_components, Tooltip.name, Tooltip), _defineProperty(_components, DatePicker.name, DatePicker), _components),\n  data: function data() {\n    return {\n      modals: {\n        classic: false,\n        mini: false\n      },\n      activado: false,\n      mensaje: '',\n      datos: {\n        username: \"\",\n        password: \"\"\n      },\n      userData: {\n        id: 0,\n        nombreRazonSocial: '',\n        correo: '',\n        direccion: '',\n        fechaNacimiento: '',\n        tipoDocumento: '',\n        telefono: '',\n        username: '',\n        idioma: '',\n        numeroDocumento: '',\n        tipoUsuario: '',\n        dniContacto: '',\n        nombreContacto: '',\n        representanteLegalDni: '',\n        representanteLegalNombre: '',\n        idSede: -1\n      }\n    };\n  },\n  methods: {\n    iniciarSesion: function iniciarSesion() {\n      var vue = this;\n      axios.post(this.$store.state.appUri + '/sesion/login', vue.datos).then(function (response) {\n        if (response.data.mensaje_respuesta == \"Usuario logueado\") {\n          // Back debe verificar codigo de respuesta si no existe - != 200\n          //console.log(response.data);\n          vue.userData.idSede = response.data.idSede;\n          vue.userData.id = response.data.usuario.id;\n          vue.userData.correo = response.data.usuario.correo;\n          vue.userData.username = response.data.usuario.username;\n          vue.userData.telefono = response.data.usuario.telefono;\n          vue.userData.direccion = response.data.usuario.direccion; //console.log(response.data.usuario.fechaNacimiento.substring(0,4)+\"-\"+response.data.usuario.fechaNacimiento.substring(5,7)+\"-\"+response.data.usuario.fechaNacimiento.substring(8,10));\n\n          vue.userData.fechaNacimiento = response.data.usuario.fechaNacimiento.substring(0, 4) + \"-\" + response.data.usuario.fechaNacimiento.substring(5, 7) + \"-\" + response.data.usuario.fechaNacimiento.substring(8, 10);\n          vue.userData.nombreRazonSocial = response.data.usuario.nombreRazonSocial;\n          vue.userData.tipoDocumento = response.data.usuario.tipoDocumento;\n          vue.userData.idioma = response.data.usuario.idioma;\n          vue.userData.numeroDocumento = response.data.usuario.numeroDocumento;\n          vue.userData.tipoUsuario = response.data.usuario.tipoUsuario;\n          vue.userData.dniContacto = response.data.usuario.dniContacto;\n          vue.userData.nombreContacto = response.data.usuario.nombreContacto;\n          vue.userData.representanteLegalDni = response.data.usuario.representanteLegalDni;\n          vue.userData.representanteLegalNombre = response.data.usuario.representanteLegalNombre;\n          Authentication.logout();\n          Authentication.login(vue.userData);\n          vue.$router.push('/profile');\n        } else {\n          //console.log(\"USUARIO NO ENCONTRADO\");\n          vue.mensaje = 'Usuario no encontrado. Verifique el nombre de usuario y contraseña.';\n          vue.activado = true;\n        }\n      }).catch(function (error) {\n        vue.mensaje = 'Usuario no encontrado. Verifique el nombre de usuario y contraseña.';\n        vue.activado = true;\n        console.log(error);\n      });\n    }\n  },\n  mounted: function mounted() {\n    var vue = this;\n\n    if (Authentication.isAuthenticated()) {\n      vue.$router.push('/profile');\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"page-header clear-filter\" filter-color=\"purple\">\r\n    <div\r\n      class=\"page-header-image\"      \r\n    ></div>\r\n\r\n    \r\n    <div class=\"content\">\r\n      <div class=\"container\">\r\n        <div class=\"col-md-5 ml-auto mr-auto\">\r\n          <card type=\"login\" plain>\r\n\r\n            <!--div slot=\"header\" class=\"logo-container\">\r\n              <img v-lazy=\"'img/now-logo.png'\" alt=\"\" />\r\n            </div-->\r\n            <h1 class=\"text-white text-center\">Inicio de sesión</h1>\r\n            <fg-input\r\n              class=\"no-border input-lg\"\r\n              addon-left-icon=\"now-ui-icons users_circle-08\"\r\n              placeholder=\"Usuario\"\r\n              v-model=\"datos.username\">\r\n            </fg-input>\r\n\r\n            <fg-input\r\n              class=\"no-border input-lg\"\r\n              addon-left-icon=\"now-ui-icons text_caps-small\"\r\n              placeholder=\"Contraseña\"\r\n              type=\"password\"\r\n              v-model=\"datos.password\">\r\n            </fg-input>\r\n\r\n            <template slot=\"raw-content\">\r\n              <div id=\"modals\" class=\"card-footer text-center\">\r\n                <n-button                 \r\n                  class=\"btn btn-login-register btn-round btn-lg btn-block\"\r\n                  @click.native=\"[modals.classic = true, iniciarSesion()]\"\r\n                  >Iniciar sesión</n-button>\r\n              </div>\r\n\r\n              <modal-index v-if=\"activado\" :show.sync=\"modals.classic\" headerClasses=\"justify-content-center\">\r\n                <h5 slot=\"header\" class=\"title title-up\">Usuario no encontrado</h5>\r\n                <p> \r\n                  {{mensaje}}\r\n                </p>\r\n                <template slot=\"footer\">\r\n                  <n-button type=\"danger\" @click.native=\"[modals.classic = false, activado = false]\">\r\n                    Cerrar\r\n                  </n-button>\r\n                </template>\r\n              </modal-index>\r\n\r\n              <div class=\"pull-left\">\r\n                <h6>\r\n                  <a\r\n                    style=\"color:White;\"\r\n                    href = \"#/signup\"\r\n                    class=\"link footer-link\">\r\n                    Crear cuenta\r\n                  </a>\r\n                </h6>\r\n              </div>\r\n              <div class=\"pull-right\">\r\n                <h6>\r\n                  <a\r\n                    class=\"nav-item link footer-link\">\r\n                    ¿Olvidaste la contraseña?\r\n                  </a>\r\n                </h6>\r\n              </div>\r\n\r\n              <!--div class=\"card-footer text-center\" style=\"margin-top: 30px !important\">\r\n                <div class=\"g-signin2\" data-onsuccess=\"onSignIn\"></div>\r\n              </div-->\r\n\r\n            </template>\r\n          </card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport { CardIndex, Button, FormGroupInput, ModalIndex } from '@/components';\r\nimport MainFooter from '@/layout/MainFooter';\r\nimport { Popover, Tooltip, DatePicker } from 'element-ui';\r\nimport axios from 'axios';\r\n\r\nimport Authentication from '@/store/authentication.js';\r\n\r\n\r\nexport default {\r\n\r\n  name: 'login-page',\r\n  bodyClass: 'login-page',\r\n  components: {\r\n    Authentication,\r\n    CardIndex,\r\n    ModalIndex,\r\n    MainFooter,\r\n    [Button.name]: Button,\r\n    [FormGroupInput.name]: FormGroupInput,\r\n    [Popover.name]: Popover,\r\n    [Tooltip.name]: Tooltip,\r\n    [DatePicker.name]: DatePicker\r\n  },\r\n  data(){\r\n    return{\r\n      modals: {\r\n        classic: false,\r\n        mini: false\r\n      },\r\n      activado: false,\r\n      mensaje: '',\r\n      datos:{\r\n        username:\"\",\r\n        password:\"\"\r\n      },\r\n      userData:{\r\n          id: 0,\r\n          nombreRazonSocial:'',\r\n          correo:'',\r\n          direccion:'',\r\n          fechaNacimiento:'',\r\n          tipoDocumento:'',\r\n          telefono:'',\r\n          username:'',\r\n          idioma:'',\r\n          numeroDocumento:'',\r\n          tipoUsuario:'',\r\n          dniContacto: '',\r\n          nombreContacto: '',\r\n          representanteLegalDni: '',\r\n          representanteLegalNombre: '',\r\n          idSede: -1\r\n      }\r\n    }      \r\n  },\r\n  methods:{\r\n    iniciarSesion:function(){\r\n      \r\n      let vue = this;\r\n      axios.post(this.$store.state.appUri+'/sesion/login', vue.datos)\r\n      .then(function(response){\r\n\r\n          if(response.data.mensaje_respuesta == \"Usuario logueado\"){ // Back debe verificar codigo de respuesta si no existe - != 200\r\n            //console.log(response.data);\r\n            vue.userData.idSede = response.data.idSede;\r\n            vue.userData.id = response.data.usuario.id;\r\n            vue.userData.correo = response.data.usuario.correo;\r\n            vue.userData.username = response.data.usuario.username;\r\n            vue.userData.telefono = response.data.usuario.telefono;\r\n            vue.userData.direccion = response.data.usuario.direccion;\r\n            //console.log(response.data.usuario.fechaNacimiento.substring(0,4)+\"-\"+response.data.usuario.fechaNacimiento.substring(5,7)+\"-\"+response.data.usuario.fechaNacimiento.substring(8,10));\r\n            vue.userData.fechaNacimiento = response.data.usuario.fechaNacimiento.substring(0,4)+\r\n                                        \"-\"+response.data.usuario.fechaNacimiento.substring(5,7)+\r\n                                        \"-\"+response.data.usuario.fechaNacimiento.substring(8,10);\r\n            vue.userData.nombreRazonSocial = response.data.usuario.nombreRazonSocial;\r\n            vue.userData.tipoDocumento = response.data.usuario.tipoDocumento;\r\n            vue.userData.idioma = response.data.usuario.idioma;\r\n            vue.userData.numeroDocumento = response.data.usuario.numeroDocumento;\r\n            vue.userData.tipoUsuario = response.data.usuario.tipoUsuario;\r\n            vue.userData.dniContacto = response.data.usuario.dniContacto;\r\n            vue.userData.nombreContacto = response.data.usuario.nombreContacto;\r\n            vue.userData.representanteLegalDni = response.data.usuario.representanteLegalDni;\r\n            vue.userData.representanteLegalNombre = response.data.usuario.representanteLegalNombre;\r\n            Authentication.logout();\r\n            Authentication.login(vue.userData);\r\n            vue.$router.push('/profile');\r\n          }else{\r\n            //console.log(\"USUARIO NO ENCONTRADO\");\r\n            vue.mensaje = 'Usuario no encontrado. Verifique el nombre de usuario y contraseña.'\r\n            vue.activado = true;\r\n          }\r\n      })\r\n      .catch(function (error) {\r\n        vue.mensaje = 'Usuario no encontrado. Verifique el nombre de usuario y contraseña.'\r\n        vue.activado = true;\r\n        console.log(error);\r\n      });\r\n    }\r\n  },\r\n  mounted(){\r\n    let vue = this;\r\n    if(Authentication.isAuthenticated()){\r\n      vue.$router.push('/profile');\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import \"@/assets/scss/now-ui-kit.scss\";\r\n/*\r\nh1, .h1 {\r\n    font-size: 3.5em;\r\n    line-height: 1.15;\r\n    margin-bottom: 15px * 2;    \r\n}\r\n*/\r\n</style>\r\n"],"sourceRoot":"src/pages"}]}