{"remainingRequest":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Administrador\\AdminForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Administrador\\AdminForm.vue","mtime":1596683947000},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\.babelrc","mtime":1596683947000},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713478866974},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js","mtime":1713478866263},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713478866974},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js","mtime":1713478868660}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BaseTable, LoaderSpinner, NoDataFound, ModalUploadFile } from \"@/components\";\nimport axios from 'axios';\nimport ModificarSede from \"../Administrador/ModificarSede\";\nimport Authentication from '@/store/authentication.js';\nimport NotificationTemplateEliminateSedeSuccess from \"../Notifications/NotificationTemplateEliminateSedeSuccess\";\nimport NotificationTemplateEliminateSedeError from \"../Notifications/NotificationTemplateEliminateSedeError\";\nimport NotificationTemplateEliminateRutaSuccess from \"../Notifications/NotificationTemplateEliminateRutaSuccess\";\nimport NotificationTemplateEliminateRutaError from \"../Notifications/NotificationTemplateEliminateRutaError\";\nexport default {\n  components: {\n    BaseTable: BaseTable,\n    ModificarSede: ModificarSede,\n    LoaderSpinner: LoaderSpinner,\n    NoDataFound: NoDataFound,\n    ModalUploadFile: ModalUploadFile\n  },\n  data: function data() {\n    return {\n      adminTable: {\n        title: \"Admin Table\",\n        columns: [],\n        data: []\n      },\n      idsede: '',\n      title: \"\",\n      searchWord: \"\",\n      isLoading: true,\n      showMessage: true,\n      listaBoolean: {\n        detalle: false,\n        eliminar: false,\n        modificar: true\n      },\n      type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n      notifications: {\n        topCenter: false\n      },\n      sedes: [],\n      titleAgregar: \"\",\n      files: [],\n      uploadPath: \"\"\n    };\n  },\n  mounted: function mounted() {\n    var vue = this;\n    vue.tableData = vue.adminTable.data;\n\n    switch (vue.id) {\n      case \"rutas\":\n        vue.title = \"Gestión de Rutas\";\n        vue.titleAgregar = \"Agregar archivo de rutas\";\n        vue.adminTable.columns = ['Codigo', 'Origen', 'Destino', 'Capacidad', 'Estado'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        axios.get(vue.$store.state.appUri + '/rutas/listarRutasNuevo').then(function (response) {\n          console.log(response.data);\n\n          if (response.data.length != 0) {\n            vue.showMessage = false;\n            response.data.forEach(function (element) {\n              vue.adminTable.data.push({\n                \"select\": false,\n                \"codigo\": element.id,\n                \"origen\": element.nombreSedeOrigen.replace(\"sede_\", \"\"),\n                \"destino\": element.nombreSedeDestino.replace(\"sede_\", \"\"),\n                \"capacidad\": element.capacidad_contratada,\n                \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n              });\n            });\n          }\n\n          vue.isLoading = false;\n        });\n        break;\n\n      case \"usuarios\":\n        vue.title = \"Gestión de Usuarios\";\n        vue.titleAgregar = \"Agregar archivo de usuarios\";\n        vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social', 'Rol'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        axios.get(this.$store.state.appUri + '/usuarios/listar').then(function (response) {\n          if (response.data.length != 0) {\n            vue.showMessage = false;\n            response.data.forEach(function (element) {\n              vue.adminTable.data.push({\n                \"select\": false,\n                \"id\": element.id,\n                \"tipo documento\": element.tipoDocumento,\n                \"documento\": element.numeroDocumento,\n                \"nombre/razon social\": element.nombreRazonSocial,\n                \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\n                \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n              });\n            });\n          }\n\n          vue.isLoading = false;\n        });\n        break;\n\n      case \"usuarios-gerente\":\n        vue.title = \"Gestión de Usuarios\";\n        vue.titleAgregar = \"Agregar archivo de usuarios\";\n        vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        var idUsuario = Authentication.getProfile().id;\n        axios.get(vue.$store.state.appUri + '/usuarios/obtenerDatosSede/' + idUsuario).then(function (response) {\n          var idSede = response.data.sede.id;\n          axios.get(vue.$store.state.appUri + '/usuarios/listarOperariosDeSede/' + idSede).then(function (response) {\n            if (response.data.length != 0) {\n              vue.showMessage = false;\n              response.data.forEach(function (element) {\n                vue.adminTable.data.push({\n                  \"select\": false,\n                  \"id\": element.id,\n                  \"tipo documento\": element.tipoDocumento,\n                  \"documento\": element.numeroDocumento,\n                  \"nombre/razon social\": element.nombreRazonSocial,\n                  \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\n                  \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n                });\n              });\n            }\n\n            vue.isLoading = false;\n          });\n        });\n        break;\n\n      case \"sedes\":\n        vue.title = \"Gestión de Sedes\";\n        vue.titleAgregar = \"Agregar archivo de sedes\";\n        vue.adminTable.columns = ['Codigo', 'Nombre', 'OACI', 'Locacion', 'Estado'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        axios.get(vue.$store.state.appUri + '/sedes/listarSedes').then(function (response) {\n          if (response.data.length != 0) {\n            vue.showMessage = false;\n            response.data.forEach(function (element) {\n              vue.adminTable.data.push({\n                \"select\": false,\n                \"codigo\": element.id,\n                \"nombre\": element.nombre.replace(\"sede_\", \"Sede de \"),\n                \"oaci\": element.codigoOaci,\n                \"prefijoCiudad\": element.prefijoCiudad,\n                \"capacidad\": element.numero_paquetes,\n                \"capacidad_max\": element.capacidad_max,\n                \"locacion\": element.pais.nombre + \" - \" + element.pais.ciudad,\n                \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n              });\n            });\n          }\n\n          vue.isLoading = false;\n        });\n        break;\n    }\n  },\n  methods: {\n    notifyVue: function notifyVue(verticalAlign, horizontalAlign, color, componente) {\n      this.$notify({\n        component: componente,\n        icon: \"tim-icons icon-bell-55\",\n        horizontalAlign: horizontalAlign,\n        verticalAlign: verticalAlign,\n        type: this.type[color],\n        timeout: 0\n      });\n    },\n    anadirUsuario: function anadirUsuario() {\n      this.$router.push('/admin/crearUsuario');\n    },\n    remove: function remove(item) {\n      var vue = this;\n\n      switch (vue.id) {\n        case \"rutas\":\n          axios.post(this.$store.state.appUri + '/rutas/darDeBaja/' + item.codigo).then(function (confirm) {\n            vue.notifyVue('top', 'center', 2, NotificationTemplateEliminateRutaSuccess);\n            vue.$forceUpdate();\n          }).catch(function (error) {\n            vue.notifyVue('top', 'center', 4, NotificationTemplateEliminateRutaError);\n            console.log(error);\n          });\n          break;\n\n        case \"sedes\":\n          axios.post(this.$store.state.appUri + '/sedes/darDeBaja/' + item.codigo).then(function (confirm) {\n            vue.notifyVue('top', 'center', 2, NotificationTemplateEliminateSedeSuccess);\n            vue.$forceUpdate();\n          }).catch(function (error) {\n            vue.notifyVue('top', 'center', 4, NotificationTemplateEliminateSedeError);\n            console.log(error);\n          });\n          break;\n\n        case \"usuarios\":\n          break;\n      }\n    },\n    removeBatch: function removeBatch() {\n      var _this = this;\n\n      var vue = this;\n\n      switch (vue.id) {\n        case \"rutas\":\n          break;\n\n        case \"sedes\":\n          var codigos = {\n            ids: []\n          };\n          vue.adminTable.data.forEach(function (item) {\n            if (item.select) return codigos.ids.push(item.codigo);\n          });\n          vue.$bvModal.msgBoxConfirm('Por favor, confirme para continuar.', {\n            title: 'Eliminar',\n            size: 'sm',\n            okTitle: 'Sí',\n            cancelTitle: 'No',\n            hideHeaderClose: false,\n            centered: false\n          }).then(function (confirm) {\n            if (confirm) {\n              axios.post(_this.$store.state.appUri + '/sedes/darDeBajaMasivo', codigos).then(function (confirm) {\n                vue.notifyVue('top', 'center', 2, NotificationTemplateEliminateSedeSuccess);\n                vue.$forceUpdate();\n              });\n            }\n          }).catch(function (error) {\n            vue.notifyVue('top', 'center', 4, NotificationTemplateEliminateSedeError);\n            console.log(error);\n          });\n          break;\n\n        case \"usuarios\":\n          break;\n      }\n    },\n    modify: function modify(item) {\n      var vue = this;\n\n      switch (vue.id) {\n        case \"rutas\":\n          var idRuta = item.codigo;\n          vue.$router.push({\n            name: \"Modificar ruta\",\n            params: {\n              idRuta: item.codigo\n            }\n          });\n          break;\n\n        case \"sedes\":\n          console.log('Antes');\n          console.log(item);\n          var idSede = item.codigo;\n          vue.$router.push({\n            name: \"Modificar sede\",\n            params: {\n              idSede: item.codigo\n            }\n          });\n          console.log('Despues');\n          break;\n\n        case \"usuarios\":\n          vue.$router.push('/admin/modificarUsuario/' + item.id);\n          break;\n\n        case \"usuarios-gerente\":\n          vue.$router.push({\n            name: \"Modificación de usuarios\",\n            params: {\n              idUsuario: item.id\n            }\n          });\n          break;\n      }\n    }\n  },\n  props: {\n    id: {\n      type: String,\n      default: function _default() {\n        return \"\";\n      }\n    }\n  }\n};",{"version":3,"sources":["AdminForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <card>   \n    <h5 slot=\"header\" class=\"title\">{{title}}</h5>\n    <div class=\"row\">\n        <div class=\"col-md-10 m-l-10 p-t-5\">\n            <base-input placeholder=\"Buscar\" v-model=\"searchWord\">\n            </base-input>\n        </div>\n        <div class=\"col-md-2\">    \n            <base-button v-b-modal.modal-upload :icon=\"true\" type=\"primary\" fill><i class=\"tim-icons icon-upload\"></i></base-button>\n            <b-modal id=\"modal-upload\" :title=\"titleAgregar\" :hide-footer=\"true\">\n              <modal-upload-file :path=\"uploadPath\"></modal-upload-file>\n            </b-modal>\n            <base-button :icon=\"true\" fill @click=\"removeBatch()\"  v-if=\"id == 'sedes'\"><i class=\"tim-icons icon-trash-simple\"></i></base-button>\n        </div>\n    </div>\n    <div class=\"col-md-12 text-right mb-3\" v-if=\"id == 'usuarios' || id == 'usuarios-gerente'\">\n        <base-button type=\"primary\" fill @click=\"anadirUsuario()\">Añadir Nuevo Usuario</base-button>\n    </div>\n\n    <div v-if=\"isLoading\"><loader-spinner></loader-spinner></div>\n    <div class=\"row\" v-else>        \n        <div class=\"col-md-12\" v-if=\"!showMessage\">\n            <base-table :data=\"adminTable.data\"\n                :columns=\"adminTable.columns\"\n                thead-classes=\"text-primary\"\n                :searchWord=\"searchWord\"\n                :setAcciones=\"listaBoolean\"\n                :actions=\"true\"\n                :select=\"true\"\n                :combo=\"false\"\n                @signalRemove=\"remove\"\n                @signalModify=\"modify\">\n            </base-table>\n        </div>\n        <div v-else class=\"col-md-12\"><no-data-found></no-data-found></div>\n    </div>\n  </card>\n</template>\n\n\n<script>\n  import {BaseTable, LoaderSpinner, NoDataFound, ModalUploadFile} from \"@/components\";\n  import axios from 'axios';\n  import ModificarSede from '../Administrador/ModificarSede'\n  import Authentication from '@/store/authentication.js';\n  import NotificationTemplateEliminateSedeSuccess from '../Notifications/NotificationTemplateEliminateSedeSuccess';\n  import NotificationTemplateEliminateSedeError from '../Notifications/NotificationTemplateEliminateSedeError';\n  import NotificationTemplateEliminateRutaSuccess from '../Notifications/NotificationTemplateEliminateRutaSuccess';\n  import NotificationTemplateEliminateRutaError from '../Notifications/NotificationTemplateEliminateRutaError';\n  \n\n  export default {\n    components: {\n      BaseTable,\n      ModificarSede,\n      LoaderSpinner,\n      NoDataFound,\n      ModalUploadFile\n    },\n    data() {\n      return {\n        adminTable: {\n          title: \"Admin Table\",\n          columns: [],\n          data: [],\n        },        \n        idsede:'',\n        title: \"\",\n        searchWord: \"\",\n        isLoading: true,\n        showMessage: true,\n        listaBoolean: {detalle:false,eliminar:false,modificar:true},\n        type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n        notifications: {\n          topCenter: false\n        },\n        sedes: [],\n        titleAgregar: \"\",\n        files:[],\n        uploadPath: \"\",\n      };\n    },\n    mounted(){\n      let vue = this;\n      vue.tableData = vue.adminTable.data;\n      switch(vue.id){\n        case \"rutas\":\n          vue.title = \"Gestión de Rutas\";\n          vue.titleAgregar = \"Agregar archivo de rutas\";\n          vue.adminTable.columns = ['Codigo', 'Origen', 'Destino', 'Capacidad','Estado'];\n          vue.uploadPath = vue.$store.state.appUri + \"\";\n          axios.get(vue.$store.state.appUri + '/rutas/listarRutasNuevo')\n          .then(function(response){\n            console.log(response.data);\n            if(response.data.length != 0){\n              vue.showMessage = false;\n              response.data.forEach(element => {\n                vue.adminTable.data.push({\n                  \"select\": false,\n                  \"codigo\": element.id, \n                  \"origen\": element.nombreSedeOrigen.replace(\"sede_\", \"\"), \n                  \"destino\": element.nombreSedeDestino.replace(\"sede_\", \"\"),\n                  \"capacidad\": element.capacidad_contratada,\n                  \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n                })\n              });\n            }\n            vue.isLoading = false;\n          });\n          break;\n        case \"usuarios\":\n          vue.title = \"Gestión de Usuarios\";\n          vue.titleAgregar = \"Agregar archivo de usuarios\";\n          vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social', 'Rol'];\n          vue.uploadPath = vue.$store.state.appUri + \"\";\n          axios.get(this.$store.state.appUri+'/usuarios/listar')\n          .then(function(response){\n            if(response.data.length != 0){\n              vue.showMessage = false;\n              response.data.forEach(element => {\n                  vue.adminTable.data.push({\n                    \"select\": false,\n                    \"id\": element.id,\n                    \"tipo documento\": element.tipoDocumento, \n                    \"documento\": element.numeroDocumento, \n                    \"nombre/razon social\": element.nombreRazonSocial,\n                    \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\n                    \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n                  });\n                });\n            }\n            vue.isLoading = false;\n          });\n          break;\n        case \"usuarios-gerente\":\n          vue.title = \"Gestión de Usuarios\";\n          vue.titleAgregar = \"Agregar archivo de usuarios\";\n          vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social'];\n          vue.uploadPath = vue.$store.state.appUri + \"\";\n          var idUsuario = Authentication.getProfile().id;\n          axios.get(vue.$store.state.appUri+'/usuarios/obtenerDatosSede/'+ idUsuario)\n          .then(function(response){\n            var idSede = response.data.sede.id;\n            axios.get(vue.$store.state.appUri+'/usuarios/listarOperariosDeSede/' + idSede)\n            .then(function(response){\n              if(response.data.length != 0){\n                vue.showMessage = false;\n                response.data.forEach(element => {\n                    vue.adminTable.data.push({\n                      \"select\": false,\n                      \"id\": element.id,\n                      \"tipo documento\": element.tipoDocumento, \n                      \"documento\": element.numeroDocumento, \n                      \"nombre/razon social\": element.nombreRazonSocial,\n                      \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\n                      \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n                    });\n                  });\n              }\n              vue.isLoading = false;\n            });\n          });\n          \n          break;\n        case \"sedes\":\n          vue.title = \"Gestión de Sedes\";\n          vue.titleAgregar = \"Agregar archivo de sedes\";\n          vue.adminTable.columns = ['Codigo', 'Nombre', 'OACI', 'Locacion', 'Estado'];\n          vue.uploadPath = vue.$store.state.appUri + \"\";\n          axios.get(vue.$store.state.appUri + '/sedes/listarSedes')\n          .then(function(response){\n            if(response.data.length != 0){\n              vue.showMessage = false;\n              response.data.forEach(element => {\n                vue.adminTable.data.push({\n                  \"select\": false,\n                  \"codigo\": element.id, \n                  \"nombre\": element.nombre.replace(\"sede_\", \"Sede de \"),\n                  \"oaci\": element.codigoOaci, \n                  \"prefijoCiudad\": element.prefijoCiudad,\n                  \"capacidad\": element.numero_paquetes,\n                  \"capacidad_max\": element.capacidad_max,\n                  \"locacion\": element.pais.nombre + \" - \" + element.pais.ciudad,\n                  \"estado\": element.activo ? \"Activo\": \"Inactivo\"\n                })\n              });\n            }\n            vue.isLoading = false;\n          });\n          break;\n      }\n    },\n    methods:{\n      notifyVue(verticalAlign, horizontalAlign,color,componente) {\n        this.$notify({\n          component: componente,\n          icon: \"tim-icons icon-bell-55\",\n          horizontalAlign: horizontalAlign,\n          verticalAlign: verticalAlign,\n          type: this.type[color],\n          timeout: 0\n        });\n      },\n      anadirUsuario: function(){\n        this.$router.push('/admin/crearUsuario');\n      },\n      remove: function(item){\n        let vue = this;        \n        switch(vue.id){\n          case \"rutas\":            \n            axios.post(this.$store.state.appUri + '/rutas/darDeBaja/' + item.codigo).then(function(confirm){\n              vue.notifyVue('top', 'center',2, NotificationTemplateEliminateRutaSuccess);\n              vue.$forceUpdate();\n            })\n            .catch(function(error){\n              vue.notifyVue('top', 'center',4, NotificationTemplateEliminateRutaError);\n              console.log(error);\n            });\n            break;\n          case \"sedes\":\n            axios.post(this.$store.state.appUri + '/sedes/darDeBaja/' + item.codigo).then(function(confirm){\n              vue.notifyVue('top', 'center',2, NotificationTemplateEliminateSedeSuccess);\n              vue.$forceUpdate();\n            })\n            .catch(function(error){\n              vue.notifyVue('top', 'center',4, NotificationTemplateEliminateSedeError);\n              console.log(error);\n            });\n            break;\n          case \"usuarios\":\n            break;\n        } \n      },\n      removeBatch: function(){\n        let vue = this;\n        switch(vue.id){\n          case \"rutas\":\n            break;\n          case \"sedes\":\n            var codigos = {ids: []};\n            vue.adminTable.data.forEach(function(item){\n              if(item.select) return codigos.ids.push(item.codigo);\n            });\n            vue.$bvModal.msgBoxConfirm('Por favor, confirme para continuar.',{\n              title: 'Eliminar',\n              size: 'sm',\n              okTitle: 'Sí',\n              cancelTitle: 'No',\n              hideHeaderClose: false,\n              centered: false\n            }).then(confirm => {\n              if(confirm){\n                axios.post(this.$store.state.appUri + '/sedes/darDeBajaMasivo', codigos).then(function(confirm){                  \n                  vue.notifyVue('top', 'center',2, NotificationTemplateEliminateSedeSuccess);\n                  vue.$forceUpdate();\n                });\n              }\n            })\n            .catch(function (error) {\n              vue.notifyVue('top', 'center',4, NotificationTemplateEliminateSedeError);\n              console.log(error);\n            });\n            \n            break;\n          case \"usuarios\":\n            break;\n        } \n      },\n      modify: function(item){\n        let vue = this;\n        switch(vue.id){\n          case \"rutas\":\n            var idRuta = item.codigo;\n            vue.$router.push({name: \"Modificar ruta\", params: {idRuta: item.codigo}});\n            break;\n          case \"sedes\":\n            console.log('Antes');\n            console.log(item);\n            var idSede = item.codigo;\n            vue.$router.push({name: \"Modificar sede\", params: {idSede: item.codigo}});\n            console.log('Despues');\n            break;\n          case \"usuarios\":\n            vue.$router.push('/admin/modificarUsuario/' + item.id); \n        \n            break;\n          case \"usuarios-gerente\":\n            vue.$router.push({name: \"Modificación de usuarios\", params: {idUsuario: item.id}});\n            break;\n        }\n      }\n    },\n    props: {\n      id: {\n        type: String,\n        default: () => {\n          return \"\";\n        }\n      }\n    }\n  }\n</script>\n<style>\n.drop-active {\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  position: fixed;\n  z-index: 9999;\n  opacity: .6;\n  text-align: center;\n  background: #000;\n}\n</style>\n"],"sourceRoot":"src/pages/Administrador"}]}