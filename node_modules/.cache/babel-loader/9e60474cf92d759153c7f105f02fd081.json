{"remainingRequest":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Administrador\\AdminForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\src\\pages\\Administrador\\AdminForm.vue","mtime":1715210506571},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\.babelrc","mtime":1715192465794},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\babel-loader\\lib\\index.js","mtime":1715192467870},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715192468895},{"path":"C:\\Users\\PC\\Desktop\\Otros\\DP1\\Front\\dp1_front-Redex\\Redex\\node_modules\\vue-loader\\lib\\index.js","mtime":1715192477908}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BaseTable, LoaderSpinner, NoDataFound, ModalUploadFile } from \"@/components\";\nimport axios from 'axios';\nimport ModificarSede from \"../Administrador/ModificarSede\";\nimport Authentication from '@/store/authentication.js';\nimport NotificationTemplateEliminateSedeSuccess from \"../Notifications/NotificationTemplateEliminateSedeSuccess\";\nimport NotificationTemplateEliminateSedeError from \"../Notifications/NotificationTemplateEliminateSedeError\";\nimport NotificationTemplateEliminateRutaSuccess from \"../Notifications/NotificationTemplateEliminateRutaSuccess\";\nimport NotificationTemplateEliminateRutaError from \"../Notifications/NotificationTemplateEliminateRutaError\";\nexport default {\n  components: {\n    BaseTable: BaseTable,\n    ModificarSede: ModificarSede,\n    LoaderSpinner: LoaderSpinner,\n    NoDataFound: NoDataFound,\n    ModalUploadFile: ModalUploadFile\n  },\n  data: function data() {\n    return {\n      adminTable: {\n        title: \"Admin Table\",\n        columns: [],\n        data: []\n      },\n      idsede: '',\n      title: \"\",\n      searchWord: \"\",\n      isLoading: true,\n      showMessage: true,\n      listaBoolean: {\n        detalle: false,\n        eliminar: false,\n        modificar: true\n      },\n      type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n      notifications: {\n        topCenter: false\n      },\n      sedes: [],\n      titleAgregar: \"\",\n      files: [],\n      uploadPath: \"\"\n    };\n  },\n  mounted: function mounted() {\n    var vue = this;\n    vue.tableData = vue.adminTable.data;\n\n    switch (vue.id) {\n      case \"rutas\":\n        vue.title = \"Gestión de Rutas\";\n        vue.titleAgregar = \"Agregar archivo de rutas\";\n        vue.adminTable.columns = ['Codigo', 'Origen', 'Destino', 'Capacidad', 'Estado'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        axios.get(vue.$store.state.appUri + '/rutas/listarRutasNuevo').then(function (response) {\n          console.log(response.data);\n\n          if (response.data.length != 0) {\n            vue.showMessage = false;\n            response.data.forEach(function (element) {\n              vue.adminTable.data.push({\n                \"select\": false,\n                \"codigo\": element.id,\n                \"origen\": element.nombreSedeOrigen.replace(\"sede_\", \"\"),\n                \"destino\": element.nombreSedeDestino.replace(\"sede_\", \"\"),\n                \"capacidad\": element.capacidad_contratada,\n                \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n              });\n            });\n          }\n\n          vue.isLoading = false;\n        });\n        break;\n\n      case \"usuarios\":\n        vue.title = \"Gestión de Usuarios\";\n        vue.titleAgregar = \"Agregar archivo de usuarios\";\n        vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social', 'Rol'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        axios.get(this.$store.state.appUri + '/usuarios/listar').then(function (response) {\n          if (response.data.length != 0) {\n            vue.showMessage = false;\n            response.data.forEach(function (element) {\n              vue.adminTable.data.push({\n                \"select\": false,\n                \"id\": element.id,\n                \"tipo documento\": element.tipoDocumento,\n                \"documento\": element.numeroDocumento,\n                \"nombre/razon social\": element.nombreRazonSocial,\n                \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\n                \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n              });\n            });\n          }\n\n          vue.isLoading = false;\n        });\n        break;\n\n      case \"usuarios-gerente\":\n        vue.title = \"Gestión de Usuarios\";\n        vue.titleAgregar = \"Agregar archivo de usuarios\";\n        vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        var idUsuario = Authentication.getProfile().id;\n        axios.get(vue.$store.state.appUri + '/usuarios/obtenerDatosSede/' + idUsuario).then(function (response) {\n          var idSede = response.data.sede.id;\n          axios.get(vue.$store.state.appUri + '/usuarios/listarOperariosDeSede/' + idSede).then(function (response) {\n            if (response.data.length != 0) {\n              vue.showMessage = false;\n              response.data.forEach(function (element) {\n                vue.adminTable.data.push({\n                  \"select\": false,\n                  \"id\": element.id,\n                  \"tipo documento\": element.tipoDocumento,\n                  \"documento\": element.numeroDocumento,\n                  \"nombre/razon social\": element.nombreRazonSocial,\n                  \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\n                  \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n                });\n              });\n            }\n\n            vue.isLoading = false;\n          });\n        });\n        break;\n\n      case \"sedes\":\n        vue.title = \"Gestión de Sedes\";\n        vue.titleAgregar = \"Agregar archivo de sedes\";\n        vue.adminTable.columns = ['Codigo', 'Nombre', 'OACI', 'Locacion', 'Estado'];\n        vue.uploadPath = vue.$store.state.appUri + \"\";\n        axios.get(vue.$store.state.appUri + '/sedes/listarSedes').then(function (response) {\n          if (response.data.length != 0) {\n            vue.showMessage = false;\n            response.data.forEach(function (element) {\n              vue.adminTable.data.push({\n                \"select\": false,\n                \"codigo\": element.id,\n                \"nombre\": element.nombre.replace(\"sede_\", \"Sede de \"),\n                \"oaci\": element.codigoOaci,\n                \"prefijoCiudad\": element.prefijoCiudad,\n                \"capacidad\": element.numero_paquetes,\n                \"capacidad_max\": element.capacidad_max,\n                \"locacion\": element.pais.nombre + \" - \" + element.pais.ciudad,\n                \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\n              });\n            });\n          }\n\n          vue.isLoading = false;\n        });\n        break;\n    }\n  },\n  methods: {\n    notifyVue: function notifyVue(verticalAlign, horizontalAlign, color, componente) {\n      this.$notify({\n        component: componente,\n        icon: \"tim-icons icon-bell-55\",\n        horizontalAlign: horizontalAlign,\n        verticalAlign: verticalAlign,\n        type: this.type[color],\n        timeout: 0\n      });\n    },\n    anadirUsuario: function anadirUsuario() {\n      this.$router.push('/admin/crearUsuario');\n    },\n    remove: function remove(item) {\n      var vue = this;\n\n      switch (vue.id) {\n        case \"rutas\":\n          axios.post(this.$store.state.appUri + '/rutas/darDeBaja/' + item.codigo).then(function (confirm) {\n            vue.notifyVue('top', 'center', 2, NotificationTemplateEliminateRutaSuccess);\n            vue.$forceUpdate();\n          }).catch(function (error) {\n            vue.notifyVue('top', 'center', 4, NotificationTemplateEliminateRutaError);\n            console.log(error);\n          });\n          break;\n\n        case \"sedes\":\n          axios.post(this.$store.state.appUri + '/sedes/darDeBaja/' + item.codigo).then(function (confirm) {\n            vue.notifyVue('top', 'center', 2, NotificationTemplateEliminateSedeSuccess);\n            vue.$forceUpdate();\n          }).catch(function (error) {\n            vue.notifyVue('top', 'center', 4, NotificationTemplateEliminateSedeError);\n            console.log(error);\n          });\n          break;\n\n        case \"usuarios\":\n          break;\n      }\n    },\n    removeBatch: function removeBatch() {\n      var _this = this;\n\n      var vue = this;\n\n      switch (vue.id) {\n        case \"rutas\":\n          break;\n\n        case \"sedes\":\n          var codigos = {\n            ids: []\n          };\n          vue.adminTable.data.forEach(function (item) {\n            if (item.select) return codigos.ids.push(item.codigo);\n          });\n          vue.$bvModal.msgBoxConfirm('Por favor, confirme para continuar.', {\n            title: 'Eliminar',\n            size: 'sm',\n            okTitle: 'Sí',\n            cancelTitle: 'No',\n            hideHeaderClose: false,\n            centered: false\n          }).then(function (confirm) {\n            if (confirm) {\n              axios.post(_this.$store.state.appUri + '/sedes/darDeBajaMasivo', codigos).then(function (confirm) {\n                vue.notifyVue('top', 'center', 2, NotificationTemplateEliminateSedeSuccess);\n                vue.$forceUpdate();\n              });\n            }\n          }).catch(function (error) {\n            vue.notifyVue('top', 'center', 4, NotificationTemplateEliminateSedeError);\n            console.log(error);\n          });\n          break;\n\n        case \"usuarios\":\n          break;\n      }\n    },\n    modify: function modify(item) {\n      var vue = this;\n\n      switch (vue.id) {\n        case \"rutas\":\n          var idRuta = item.codigo;\n          vue.$router.push({\n            name: \"Modificar ruta\",\n            params: {\n              idRuta: item.codigo\n            }\n          });\n          break;\n\n        case \"sedes\":\n          console.log('Antes');\n          console.log(item);\n          var idSede = item.codigo;\n          vue.$router.push({\n            name: \"Modificar sede\",\n            params: {\n              idSede: item.codigo\n            }\n          });\n          console.log('Despues');\n          break;\n\n        case \"usuarios\":\n          vue.$router.push('/admin/modificarUsuario/' + item.id);\n          break;\n\n        case \"usuarios-gerente\":\n          vue.$router.push({\n            name: \"Modificación de usuarios\",\n            params: {\n              idUsuario: item.id\n            }\n          });\n          break;\n      }\n    }\n  },\n  props: {\n    id: {\n      type: String,\n      default: function _default() {\n        return \"\";\n      }\n    }\n  }\n};",{"version":3,"sources":["AdminForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <card>   \r\n    <h5 slot=\"header\" class=\"title\">{{title}}</h5>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-10 m-l-10 p-t-5\">\r\n            <base-input placeholder=\"Buscar\" v-model=\"searchWord\">\r\n            </base-input>\r\n        </div>\r\n        <div class=\"col-md-2\">    \r\n            <base-button v-b-modal.modal-upload :icon=\"true\" type=\"primary\" fill><i class=\"tim-icons icon-upload\"></i></base-button>\r\n            <b-modal id=\"modal-upload\" :title=\"titleAgregar\" :hide-footer=\"true\">\r\n              <modal-upload-file :path=\"uploadPath\"></modal-upload-file>\r\n            </b-modal>\r\n            <base-button :icon=\"true\" fill @click=\"removeBatch()\"  v-if=\"id == 'sedes'\"><i class=\"tim-icons icon-trash-simple\"></i></base-button>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-md-12 text-right mb-3\" v-if=\"id == 'usuarios' || id == 'usuarios-gerente'\">\r\n        <base-button type=\"primary\" fill @click=\"anadirUsuario()\">Añadir Nuevo Usuario</base-button>\r\n    </div>\r\n\r\n    <div v-if=\"isLoading\"><loader-spinner></loader-spinner></div>\r\n    <div class=\"row\" v-else>        \r\n        <div class=\"col-md-12\" v-if=\"!showMessage\">\r\n            <base-table :data=\"adminTable.data\"\r\n                :columns=\"adminTable.columns\"\r\n                thead-classes=\"text-primary\"\r\n                :searchWord=\"searchWord\"\r\n                :setAcciones=\"listaBoolean\"\r\n                :actions=\"true\"\r\n                :select=\"true\"\r\n                :combo=\"false\"\r\n                @signalRemove=\"remove\"\r\n                @signalModify=\"modify\">\r\n            </base-table>\r\n        </div>\r\n        <div v-else class=\"col-md-12\"><no-data-found></no-data-found></div>\r\n    </div>\r\n  </card>\r\n</template>\r\n\r\n\r\n<script>\r\n  import {BaseTable, LoaderSpinner, NoDataFound, ModalUploadFile} from \"@/components\";\r\n  import axios from 'axios';\r\n  import ModificarSede from '../Administrador/ModificarSede'\r\n  import Authentication from '@/store/authentication.js';\r\n  import NotificationTemplateEliminateSedeSuccess from '../Notifications/NotificationTemplateEliminateSedeSuccess';\r\n  import NotificationTemplateEliminateSedeError from '../Notifications/NotificationTemplateEliminateSedeError';\r\n  import NotificationTemplateEliminateRutaSuccess from '../Notifications/NotificationTemplateEliminateRutaSuccess';\r\n  import NotificationTemplateEliminateRutaError from '../Notifications/NotificationTemplateEliminateRutaError';\r\n  \r\n\r\n  export default {\r\n    components: {\r\n      BaseTable,\r\n      ModificarSede,\r\n      LoaderSpinner,\r\n      NoDataFound,\r\n      ModalUploadFile\r\n    },\r\n    data() {\r\n      return {\r\n        adminTable: {\r\n          title: \"Admin Table\",\r\n          columns: [],\r\n          data: [],\r\n        },        \r\n        idsede:'',\r\n        title: \"\",\r\n        searchWord: \"\",\r\n        isLoading: true,\r\n        showMessage: true,\r\n        listaBoolean: {detalle:false,eliminar:false,modificar:true},\r\n        type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\r\n        notifications: {\r\n          topCenter: false\r\n        },\r\n        sedes: [],\r\n        titleAgregar: \"\",\r\n        files:[],\r\n        uploadPath: \"\",\r\n      };\r\n    },\r\n    mounted(){\r\n      let vue = this;\r\n      vue.tableData = vue.adminTable.data;\r\n      switch(vue.id){\r\n        case \"rutas\":\r\n          vue.title = \"Gestión de Rutas\";\r\n          vue.titleAgregar = \"Agregar archivo de rutas\";\r\n          vue.adminTable.columns = ['Codigo', 'Origen', 'Destino', 'Capacidad','Estado'];\r\n          vue.uploadPath = vue.$store.state.appUri + \"\";\r\n          axios.get(vue.$store.state.appUri + '/rutas/listarRutasNuevo')\r\n          .then(function(response){\r\n            console.log(response.data);\r\n            if(response.data.length != 0){\r\n              vue.showMessage = false;\r\n              response.data.forEach(element => {\r\n                vue.adminTable.data.push({\r\n                  \"select\": false,\r\n                  \"codigo\": element.id, \r\n                  \"origen\": element.nombreSedeOrigen.replace(\"sede_\", \"\"), \r\n                  \"destino\": element.nombreSedeDestino.replace(\"sede_\", \"\"),\r\n                  \"capacidad\": element.capacidad_contratada,\r\n                  \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\r\n                })\r\n              });\r\n            }\r\n            vue.isLoading = false;\r\n          });\r\n          break;\r\n        case \"usuarios\":\r\n          vue.title = \"Gestión de Usuarios\";\r\n          vue.titleAgregar = \"Agregar archivo de usuarios\";\r\n          vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social', 'Rol'];\r\n          vue.uploadPath = vue.$store.state.appUri + \"\";\r\n          axios.get(this.$store.state.appUri+'/usuarios/listar')\r\n          .then(function(response){\r\n            if(response.data.length != 0){\r\n              vue.showMessage = false;\r\n              response.data.forEach(element => {\r\n                  vue.adminTable.data.push({\r\n                    \"select\": false,\r\n                    \"id\": element.id,\r\n                    \"tipo documento\": element.tipoDocumento, \r\n                    \"documento\": element.numeroDocumento, \r\n                    \"nombre/razon social\": element.nombreRazonSocial,\r\n                    \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\r\n                    \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\r\n                  });\r\n                });\r\n            }\r\n            vue.isLoading = false;\r\n          });\r\n          break;\r\n        case \"usuarios-gerente\":\r\n          vue.title = \"Gestión de Usuarios\";\r\n          vue.titleAgregar = \"Agregar archivo de usuarios\";\r\n          vue.adminTable.columns = ['Tipo Documento', 'Documento', 'Nombre/Razon Social'];\r\n          vue.uploadPath = vue.$store.state.appUri + \"\";\r\n          var idUsuario = Authentication.getProfile().id;\r\n          axios.get(vue.$store.state.appUri+'/usuarios/obtenerDatosSede/'+ idUsuario)\r\n          .then(function(response){\r\n            var idSede = response.data.sede.id;\r\n            axios.get(vue.$store.state.appUri+'/usuarios/listarOperariosDeSede/' + idSede)\r\n            .then(function(response){\r\n              if(response.data.length != 0){\r\n                vue.showMessage = false;\r\n                response.data.forEach(element => {\r\n                    vue.adminTable.data.push({\r\n                      \"select\": false,\r\n                      \"id\": element.id,\r\n                      \"tipo documento\": element.tipoDocumento, \r\n                      \"documento\": element.numeroDocumento, \r\n                      \"nombre/razon social\": element.nombreRazonSocial,\r\n                      \"rol\": element.tipoUsuario.replace(\"_\", \" \").toLowerCase(),\r\n                      \"estado\": element.activo ? \"Activo\" : \"Inactivo\"\r\n                    });\r\n                  });\r\n              }\r\n              vue.isLoading = false;\r\n            });\r\n          });\r\n          \r\n          break;\r\n        case \"sedes\":\r\n          vue.title = \"Gestión de Sedes\";\r\n          vue.titleAgregar = \"Agregar archivo de sedes\";\r\n          vue.adminTable.columns = ['Codigo', 'Nombre', 'OACI', 'Locacion', 'Estado'];\r\n          vue.uploadPath = vue.$store.state.appUri + \"\";\r\n          axios.get(vue.$store.state.appUri + '/sedes/listarSedes')\r\n          .then(function(response){\r\n            if(response.data.length != 0){\r\n              vue.showMessage = false;\r\n              response.data.forEach(element => {\r\n                vue.adminTable.data.push({\r\n                  \"select\": false,\r\n                  \"codigo\": element.id, \r\n                  \"nombre\": element.nombre.replace(\"sede_\", \"Sede de \"),\r\n                  \"oaci\": element.codigoOaci, \r\n                  \"prefijoCiudad\": element.prefijoCiudad,\r\n                  \"capacidad\": element.numero_paquetes,\r\n                  \"capacidad_max\": element.capacidad_max,\r\n                  \"locacion\": element.pais.nombre + \" - \" + element.pais.ciudad,\r\n                  \"estado\": element.activo ? \"Activo\": \"Inactivo\"\r\n                })\r\n              });\r\n            }\r\n            vue.isLoading = false;\r\n          });\r\n          break;\r\n      }\r\n    },\r\n    methods:{\r\n      notifyVue(verticalAlign, horizontalAlign,color,componente) {\r\n        this.$notify({\r\n          component: componente,\r\n          icon: \"tim-icons icon-bell-55\",\r\n          horizontalAlign: horizontalAlign,\r\n          verticalAlign: verticalAlign,\r\n          type: this.type[color],\r\n          timeout: 0\r\n        });\r\n      },\r\n      anadirUsuario: function(){\r\n        this.$router.push('/admin/crearUsuario');\r\n      },\r\n      remove: function(item){\r\n        let vue = this;        \r\n        switch(vue.id){\r\n          case \"rutas\":            \r\n            axios.post(this.$store.state.appUri + '/rutas/darDeBaja/' + item.codigo).then(function(confirm){\r\n              vue.notifyVue('top', 'center',2, NotificationTemplateEliminateRutaSuccess);\r\n              vue.$forceUpdate();\r\n            })\r\n            .catch(function(error){\r\n              vue.notifyVue('top', 'center',4, NotificationTemplateEliminateRutaError);\r\n              console.log(error);\r\n            });\r\n            break;\r\n          case \"sedes\":\r\n            axios.post(this.$store.state.appUri + '/sedes/darDeBaja/' + item.codigo).then(function(confirm){\r\n              vue.notifyVue('top', 'center',2, NotificationTemplateEliminateSedeSuccess);\r\n              vue.$forceUpdate();\r\n            })\r\n            .catch(function(error){\r\n              vue.notifyVue('top', 'center',4, NotificationTemplateEliminateSedeError);\r\n              console.log(error);\r\n            });\r\n            break;\r\n          case \"usuarios\":\r\n            break;\r\n        } \r\n      },\r\n      removeBatch: function(){\r\n        let vue = this;\r\n        switch(vue.id){\r\n          case \"rutas\":\r\n            break;\r\n          case \"sedes\":\r\n            var codigos = {ids: []};\r\n            vue.adminTable.data.forEach(function(item){\r\n              if(item.select) return codigos.ids.push(item.codigo);\r\n            });\r\n            vue.$bvModal.msgBoxConfirm('Por favor, confirme para continuar.',{\r\n              title: 'Eliminar',\r\n              size: 'sm',\r\n              okTitle: 'Sí',\r\n              cancelTitle: 'No',\r\n              hideHeaderClose: false,\r\n              centered: false\r\n            }).then(confirm => {\r\n              if(confirm){\r\n                axios.post(this.$store.state.appUri + '/sedes/darDeBajaMasivo', codigos).then(function(confirm){                  \r\n                  vue.notifyVue('top', 'center',2, NotificationTemplateEliminateSedeSuccess);\r\n                  vue.$forceUpdate();\r\n                });\r\n              }\r\n            })\r\n            .catch(function (error) {\r\n              vue.notifyVue('top', 'center',4, NotificationTemplateEliminateSedeError);\r\n              console.log(error);\r\n            });\r\n            \r\n            break;\r\n          case \"usuarios\":\r\n            break;\r\n        } \r\n      },\r\n      modify: function(item){\r\n        let vue = this;\r\n        switch(vue.id){\r\n          case \"rutas\":\r\n            var idRuta = item.codigo;\r\n            vue.$router.push({name: \"Modificar ruta\", params: {idRuta: item.codigo}});\r\n            break;\r\n          case \"sedes\":\r\n            console.log('Antes');\r\n            console.log(item);\r\n            var idSede = item.codigo;\r\n            vue.$router.push({name: \"Modificar sede\", params: {idSede: item.codigo}});\r\n            console.log('Despues');\r\n            break;\r\n          case \"usuarios\":\r\n            vue.$router.push('/admin/modificarUsuario/' + item.id); \r\n        \r\n            break;\r\n          case \"usuarios-gerente\":\r\n            vue.$router.push({name: \"Modificación de usuarios\", params: {idUsuario: item.id}});\r\n            break;\r\n        }\r\n      }\r\n    },\r\n    props: {\r\n      id: {\r\n        type: String,\r\n        default: () => {\r\n          return \"\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n.drop-active {\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  position: fixed;\r\n  z-index: 9999;\r\n  opacity: .6;\r\n  text-align: center;\r\n  background: #000;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages/Administrador"}]}